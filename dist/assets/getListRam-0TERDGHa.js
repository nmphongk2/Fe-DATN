import{r as h,l as y,cq as u,j as t,cr as f,f as b,L as w,h as p}from"./index-B8WTsAS6.js";import{A as N}from"./index-Cc_yPv-2.js";import{E as _}from"./EditDocumentIcon-DuofBkHL.js";import{D as v}from"./DeleteIcon-BukMQWWF.js";import{S as C}from"./sweetalert2.all-CanRnygg.js";import{w as k}from"./sweetalert2-react-content.es-_20BSG7l.js";import{f as R,g as L,h as T,m as g}from"./chunk-GBNLLUVD-1t55ujfQ.js";import{b as D}from"./chunk-DBLREEYE-KYxkDfWC.js";import{N as S}from"./noData-DVKMDRJu.js";import{t as B,a as E,b as P,c as A,d as M,e as F}from"./chunk-YRZGWF2W-CXxVUGNa.js";import{p as I}from"./chunk-MRXO6UUP-nmik_M5x.js";import{c as $}from"./chunk-4WFLSIHH-GgbuetXY.js";import{t as q}from"./chunk-3ZXLDIEA-b4fsncww.js";import{R as H,b as K}from"./ReusableBreadcrumb-D5trGug1.js";import"./chunk-TDOFO53L-BhVz0FjF.js";import"./chunk-N2KXC5ZE-mxrXGXiM.js";import"./tslib.es6-DUex0IDm.js";import"./useDialog-clsvYkd8.js";import"./useLabels-C5NmhLsG.js";import"./filterDOMProps-B3AneKiX.js";import"./useEffectEvent-Cg1JSw20.js";import"./clsx-B-dksMZM.js";import"./getChildNodes-Cw4ook6e.js";import"./VisuallyHidden-D5xcTfY7.js";import"./useFocusWithin-Cnv4cfRz.js";import"./focusSafely-7dc_zii7.js";import"./_class_private_field_set-DiTYLpP0.js";import"./FocusScope-DCO5JZf9.js";import"./useOverlayTriggerState-_gK5y_xw.js";import"./number-DfkVkf0F.js";import"./chunk-BZCSOIUI-ECjOxws-.js";import"./chunk-XHQUSKIE-BwnSvnTo.js";import"./features-animation-BrpZblPW.js";import"./chunk-6NL67ZRH-ST4yRtyp.js";import"./chunk-MNNRULGA-Ck-UmubQ.js";import"./chunk-CIZQCQPA-BQKhqm3c.js";import"./index-DiNnCp_7.js";import"./useFocusable-BgsBLUcz.js";import"./useFocus-CiKVCmpT.js";import"./chunk-KBN3H6OQ-BYj_qRg-.js";import"./chunk-CAFRINWI-BTDo8zfp.js";import"./useFormValidationState-Ds8IGnmn.js";import"./useFormReset-BlmLPiDA.js";import"./chunk-IXXDDLGU-D8Ib2K6T.js";import"./chunk-7F3ZLNJ6-B2JTPL8n.js";import"./index-xaiLQO7O.js";import"./useHover-BojuH7IM.js";const X=()=>{const[a,s]=h.useState(""),r=y();h.useEffect(()=>{r(u({page:1,search:a||void 0}))},[a,r]);const n=i=>{i.preventDefault()};return t.jsx("div",{className:"w-full md:w-1/2",children:t.jsxs("form",{className:"flex items-center",onSubmit:n,children:[t.jsx("label",{htmlFor:"simple-search",className:"sr-only",children:"Tìm kiếm"}),t.jsx("div",{className:"relative w-full",children:t.jsx("input",{id:"simple-search",type:"search",className:"w-full py-1 px-2 border text-black border-gray-300 rounded-md shadow-sm",placeholder:"Tìm kiếm",value:a,onChange:i=>s(i.target.value)})})]})})},x=k(C),G=(a,s,r,n)=>{x.fire({title:"Xóa ram?",text:"Bạn có chắc muốn xóa ram này không!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Có",cancelButtonText:"Hủy"}).then(async i=>{var m;if(i.isConfirmed)try{const c=await s(f({ramId:a}));if(f.rejected.match(c)){const l=typeof c.payload=="string"?c.payload:"Đã xảy ra sự cố khi xóa ram.";j(l)}else{const l=((m=c.payload)==null?void 0:m.msg)||"ram của bạn đã bị xóa.";U(l),s(u({page:r,search:n}))}}catch{j("Đã xảy ra sự cố khi xóa ram.")}})},U=a=>{x.fire({title:"Đã xóa!",text:a,icon:"success",customClass:{confirmButton:"bg-blue-500 md:bg-green-500"}})},j=a=>{x.fire({title:"Lỗi!",text:a,icon:"error",customClass:{confirmButton:"bg-red-600"}})};function V({ramId:a,currentPage:s,searchTerm:r}){const n=b(),i="text-xl text-default-500 pointer-events-none flex-shrink-0";return t.jsxs(R,{children:[t.jsx(L,{children:t.jsx(D,{variant:"bordered",children:"Tùy chọn"})}),t.jsxs(T,{"aria-label":"Static Actions",children:[t.jsx(g,{startContent:t.jsx(_,{className:i}),children:t.jsx(w,{to:`/admin/edit-screen/${a}`,children:"Cập nhật ram"})},"new"),t.jsx(g,{className:"text-danger",color:"danger",startContent:t.jsx(v,{className:i}),onClick:()=>G(a,n,s,r),children:"Xóa ram"},"delete")]})]})}const z=()=>{const a=b(),[s]=h.useState(""),r=p(e=>{var o;return((o=e.attribute.getListRam.pagination)==null?void 0:o.currentPage)||1}),n=p(e=>{var o;return((o=e.attribute.getListRam.pagination)==null?void 0:o.totalPages)||1}),i=p(e=>e.attribute.getListRam.rams||[]);h.useEffect(()=>{a(u({page:r,search:s}))},[a,r,s]);const m=e=>{a(u({page:e,search:s}))},c=(e,o)=>{switch(o){case"name":const d=e.name;return t.jsx(q,{content:d,delay:0,children:t.jsx("span",{children:d.length>20?`${d.substring(0,20)}...`:d})});case"status":return t.jsx($,{color:e.status==="active"?"success":"danger",children:e.status==="active"?"Hiển thị":"Đã ẩn"});case"actions":return t.jsx(V,{ramId:e._id,currentPage:r,searchTerm:s});default:return null}},l=[{uid:"name",name:"tên ram"},{uid:"status",name:"Trạng thái"},{uid:"actions",name:"Chức năng"}];return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center md:space-x-3 space-y-3 md:space-y-0 justify-between mx-4 py-4 border-t dark:border-gray-700",children:[t.jsx(X,{}),t.jsx(N,{type:"addRam"})]}),i.length===0?t.jsx(S,{type:"ram",message:s?"Không tìm thấy kết quả nào phù hợp với từ khóa tìm kiếm.":"Không có thông tin ram."}):t.jsxs(B,{"aria-label":"Product Variants Table",className:"p-4",children:[t.jsx(E,{columns:l,children:e=>t.jsx(P,{align:e.uid==="actions"?"center":"start",children:e.name},e.uid)}),t.jsx(A,{items:i,children:e=>t.jsx(M,{children:o=>t.jsx(F,{children:c(e,o)})},e._id)})]}),n>1&&t.jsx("div",{className:"flex justify-center my-4",children:t.jsx(I,{isCompact:!0,loop:!0,showControls:!0,color:"primary",total:n,initialPage:r,onChange:e=>m(e)})})]})},J=()=>{const a=p(s=>s.attribute.getListRam.total||[]);return t.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-3 md:space-y-0 md:space-x-4 p-4",children:t.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[t.jsxs("h5",{children:[t.jsx("span",{className:"text-gray-500",children:"Tổng có: "}),t.jsx("span",{className:"dark:text-white",children:a})]}),t.jsx("h5",{className:"text-gray-500 dark:text-gray-400 ml-1",children:"loại ram"})]})})},Kt=()=>t.jsxs("div",{children:[t.jsx(H,{items:K.listRam}),t.jsx("div",{className:"mb-4 ml-4 col-span-full xl:mb-2",children:t.jsx("h1",{className:"text-xl font-semibold text-gray-900 sm:text-2xl dark:text-white",children:"Danh sách ram"})}),t.jsx("section",{className:"bg-gray-50 dark:bg-gray-900 p-3 sm:p-5 antialiased",children:t.jsx("div",{className:"mb-4 col-span-full xl:mb-2",children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 relative border shadow-md sm:rounded-lg overflow-hidden",children:[t.jsx(J,{}),t.jsx("div",{className:"overflow-x-auto",children:t.jsx(z,{})})]})})})]});export{Kt as default};
