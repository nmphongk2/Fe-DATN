import{z as g,r as o,j as e,L as u,J as f}from"./index-B8WTsAS6.js";import{t as p,S as j}from"./truncateText-DCYr2heY.js";/* empty css                */import{s as v}from"./homeAllProduct-C-dyKhCz.js";function a(t){return f.format(t,{code:"VND",symbol:""})}const N=()=>{const{keyword:t}=g(),[i,x]=o.useState([]),h=async()=>{if(t)try{const s=await v(t);x(s.data)}catch(s){console.error("Error fetching search results:",s)}else console.log("lỗi")};return o.useEffect(()=>{h()},[t]),e.jsxs(e.Fragment,{children:[e.jsxs("h1",{className:"text-center text-3xl m-3",children:["Sản phẩm có từ khóa: ",t]}),(t??"").length>0&&e.jsx("div",{className:"grid md:grid-cols-5 gap-2 m-10 ",children:i.length>0?i.map((s,n)=>{var l,c,m;return e.jsxs("div",{className:"relative w-full flex-col overflow-hidden rounded-lg border border-gray-100 bg-white shadow-md",children:[e.jsx("div",{className:"backdrop-blur-sm bg-white/30",children:e.jsx(u,{to:`/product/${s.slug}`,children:e.jsx("figure",{className:"relative w-full h-0 pb-[100%] overflow-hidden transition-all duration-300 cursor-pointer filter grayscale-0",children:e.jsx("img",{className:"absolute inset-0 w-full h-full object-cover rounded-lg p-8",src:s.image[0],alt:`product ${n+1}`})})})}),e.jsxs("div",{className:"pt-1 mb-10",children:[e.jsx("div",{className:"mb-4 px-2 flex items-center justify-between gap-4",children:s.variants.length>0&&((l=s.variants[0].product_discount)==null?void 0:l.isActive)&&e.jsxs("span",{className:"rounded bg-primary-100 px-2.5 py-0.5 text-xs font-medium text-primary-800 dark:bg-primary-900 dark:text-primary-300",children:["Giảm giá ",(c=s.variants[0].product_discount)==null?void 0:c.discountPercent,"%"]})}),e.jsx("div",{className:"text-md font-semibold leading-tight text-gray-900 hover:text-balance dark:text-white",children:e.jsx("div",{className:"mt-1 px-2 pb-1",children:e.jsx("a",{href:"#",children:e.jsx("h5",{className:"text-sm tracking-tight text-slate-900 font-medium",children:p(s.product_name,30)})})})}),e.jsxs("div",{className:"px-2 flex items-center gap-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.product_ratingAvg?s.product_ratingAvg.toFixed(1):"N/A"}),e.jsx(j,{})]}),e.jsx("div",{className:"mt-2 px-2 flex items-center gap-2",children:s.variants.length>0&&(((m=s.variants[0].product_discount)==null?void 0:m.discountPercent)>0?e.jsxs("div",{className:"flex w-full",children:[e.jsxs("p",{className:"text-xs font-medium text-rose-700 flex-grow",children:[a(s.variants[0].variant_price)," đ"]}),e.jsxs("p",{className:"text-xs font-medium text-gray-400 line-through flex-shrink-0",children:[a(s.variants[0].variant_original_price)," đ"]})]}):e.jsxs("p",{className:"text-xs font-medium text-rose-700",children:[a(s.variants[0].variant_price)," đ"]}))}),e.jsx("div",{className:"mt-2 px-2",children:e.jsx("div",{className:"mt-2 flex flex-wrap gap-4",children:s.variants.map((r,d)=>r.storage?e.jsx("div",{className:`flex items-center justify-center w-auto h-auto p-1 text-sm border border-gray-300 rounded-md 
                      ${d===0?"border-primary-700 text-primary-700 bg-customGray":"text-gray-800"}`,children:e.jsx("p",{className:"font-medium",children:r.storage.name?r.storage.name:"N/A"})},d):null)})})]})]},n)}):e.jsx("div",{className:"col-span-full text-center text-gray-500",children:"Không có sản phẩm nào được tìm thấy"})})]})},_=()=>e.jsx(e.Fragment,{children:e.jsx(N,{})});export{_ as default};
