import{z as h,g as x,f as m,h as c,r as d,j as n,A as u}from"./index-B8WTsAS6.js";const p=()=>{const{userId:i,tokenLogin:o}=h(),t=x(),l=m(),g=c(s=>s.auth.login.isLoggedIn),e=c(s=>s.auth.login.error),r=c(s=>s.auth.login.roles);return d.useEffect(()=>{i&&o?(async()=>{try{await l(u({id:i,token:o})).unwrap()}catch(a){console.error("Lỗi khi đăng nhập:",a.message)}})():t("/login-error")},[i,o,l,t]),d.useEffect(()=>{if(g)if(r&&r.length>0){const s=r.some(a=>a.name==="admin");t(s?"/admin":"/")}else t("/login-error");else e&&t("/login-error")},[g,r,e,t]),n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-lg overflow-hidden my-20",children:[n.jsx("div",{className:"flex justify-center items-center mt-8",children:n.jsx("div",{className:`rounded-full h-40 w-40 flex items-center justify-center ${e?"bg-red-100":"bg-green-100"}`,children:n.jsx("i",{className:`text-6xl ${e?"text-red-500":"text-green-500"}`,children:e?"✘":"✓"})})}),n.jsxs("div",{className:"text-center px-6 py-4",children:[n.jsx("h1",{className:`text-3xl font-bold ${e?"text-red-900":"text-green-900"}`,children:e?"Lỗi":"Thành Công"}),n.jsx("p",{className:"text-gray-700 mt-2",children:e?`Đã xảy ra lỗi khi đăng nhập: ${e}`:"Bạn đã đăng nhập thành công tài khoản Google"})]})]})})};export{p as default};
