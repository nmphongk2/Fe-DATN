import{e as ie,g as le,a as se}from"./useFocusWithin-Cnv4cfRz.js";import{$ as F}from"./number-DfkVkf0F.js";import{r as y,a9 as ce}from"./index-B8WTsAS6.js";import{$ as U,a as K}from"./useEffectEvent-Cg1JSw20.js";import{a as pe}from"./FocusScope-DCO5JZf9.js";import{c as k}from"./chunk-BZCSOIUI-ECjOxws-.js";import{t as fe}from"./chunk-N2KXC5ZE-mxrXGXiM.js";import{d as de}from"./chunk-XHQUSKIE-BwnSvnTo.js";import{$ as ue}from"./focusSafely-7dc_zii7.js";function me(){return typeof window.ResizeObserver<"u"}function ge(t){const{ref:e,box:o,onResize:n}=t;y.useEffect(()=>{let a=e==null?void 0:e.current;if(a)if(me()){const i=new window.ResizeObserver(l=>{l.length&&n()});return i.observe(a,{box:o}),()=>{a&&i.unobserve(a)}}else return window.addEventListener("resize",n,!1),()=>{window.removeEventListener("resize",n,!1)}},[n,e,o])}const A={top:"top",bottom:"top",left:"left",right:"left"},Y={top:"bottom",bottom:"top",left:"right",right:"left"},be={top:"left",left:"top"},B={top:"height",left:"width"},J={width:"totalWidth",height:"totalHeight"},D={};let P=typeof document<"u"&&window.visualViewport;function V(t){let e=0,o=0,n=0,a=0,i=0,l=0,r={},c=(P==null?void 0:P.scale)>1;if(t.tagName==="BODY"){let u=document.documentElement;n=u.clientWidth,a=u.clientHeight;var d;e=(d=P==null?void 0:P.width)!==null&&d!==void 0?d:n;var p;o=(p=P==null?void 0:P.height)!==null&&p!==void 0?p:a,r.top=u.scrollTop||t.scrollTop,r.left=u.scrollLeft||t.scrollLeft,P&&(i=P.offsetTop,l=P.offsetLeft)}else({width:e,height:o,top:i,left:l}=M(t)),r.top=t.scrollTop,r.left=t.scrollLeft,n=e,a=o;return ie()&&(t.tagName==="BODY"||t.tagName==="HTML")&&c&&(r.top=0,r.left=0,i=P.pageTop,l=P.pageLeft),{width:e,height:o,totalWidth:n,totalHeight:a,scroll:r,top:i,left:l}}function he(t){return{top:t.scrollTop,left:t.scrollLeft,width:t.scrollWidth,height:t.scrollHeight}}function j(t,e,o,n,a,i,l){let r=a.scroll[t],c=n[B[t]],d=n.scroll[A[t]]+i,p=c+n.scroll[A[t]]-i,u=e-r+l[t]-n[A[t]],g=e-r+o+l[t]-n[A[t]];return u<d?d-u:g>p?Math.max(p-g,d-u):0}function $e(t){let e=window.getComputedStyle(t);return{top:parseInt(e.marginTop,10)||0,bottom:parseInt(e.marginBottom,10)||0,left:parseInt(e.marginLeft,10)||0,right:parseInt(e.marginRight,10)||0}}function W(t){if(D[t])return D[t];let[e,o]=t.split(" "),n=A[e]||"right",a=be[n];A[o]||(o="center");let i=B[n],l=B[a];return D[t]={placement:e,crossPlacement:o,axis:n,crossAxis:a,size:i,crossSize:l},D[t]}function X(t,e,o,n,a,i,l,r,c,d){let{placement:p,crossPlacement:u,axis:g,crossAxis:f,size:s,crossSize:v}=n,m={};m[f]=t[f],u==="center"?m[f]+=(t[v]-o[v])/2:u!==f&&(m[f]+=t[v]-o[v]),m[f]+=i;const L=t[f]-o[v]+c+d,b=t[f]+t[v]-c-d;if(m[f]=F(m[f],L,b),p===g){const x=r?l[s]:e[J[s]];m[Y[g]]=Math.floor(x-t[g]+a)}else m[g]=Math.floor(t[g]+t[s]+a);return m}function ve(t,e,o,n,a,i,l,r){const c=n?o.height:e[J.height];let d=t.top!=null?o.top+t.top:o.top+(c-t.bottom-l),p=r!=="top"?Math.max(0,e.height+e.top+e.scroll.top-d-(a.top+a.bottom+i)):Math.max(0,d+l-(e.top+e.scroll.top)-(a.top+a.bottom+i));return Math.min(e.height-i*2,p)}function Z(t,e,o,n,a,i){let{placement:l,axis:r,size:c}=i;return l===r?Math.max(0,o[r]-t[r]-t.scroll[r]+e[r]-n[r]-n[Y[r]]-a):Math.max(0,t[c]+t[r]+t.scroll[r]-e[r]-o[r]-o[c]-n[r]-n[Y[r]]-a)}function xe(t,e,o,n,a,i,l,r,c,d,p,u,g,f,s,v){let m=W(t),{size:L,crossAxis:b,crossSize:x,placement:S,crossPlacement:O}=m,h=X(e,r,o,m,p,u,d,g,s,v),R=p,w=Z(r,d,e,a,i+p,m);if(l&&n[L]>w){let _=W(`${Y[S]} ${O}`),ae=X(e,r,o,_,p,u,d,g,s,v);Z(r,d,e,a,i+p,_)>w&&(m=_,h=ae,R=p)}let E="bottom";m.axis==="top"?m.placement==="top"?E="top":m.placement==="bottom"&&(E="bottom"):m.crossAxis==="top"&&(m.crossPlacement==="top"?E="bottom":m.crossPlacement==="bottom"&&(E="top"));let I=j(b,h[b],o[x],r,c,i,d);h[b]+=I;let T=ve(h,r,d,g,a,i,o.height,E);f&&f<T&&(T=f),o.height=Math.min(o.height,T),h=X(e,r,o,m,R,u,d,g,s,v),I=j(b,h[b],o[x],r,c,i,d),h[b]+=I;let z={},Q=e[b]+.5*e[x]-h[b];const ee=s/2+v,te=o[x]-s/2-v,oe=e[b]-h[b]+s/2,re=e[b]+e[x]-h[b]-s/2,ne=F(Q,oe,re);return z[b]=F(ne,ee,te),{position:h,maxHeight:T,arrowOffsetLeft:z.left,arrowOffsetTop:z.top,placement:m.placement}}function we(t){let{placement:e,targetNode:o,overlayNode:n,scrollNode:a,padding:i,shouldFlip:l,boundaryElement:r,offset:c,crossOffset:d,maxHeight:p,arrowSize:u=0,arrowBoundaryOffset:g=0}=t,f=n instanceof HTMLElement?Ee(n):document.documentElement,s=f===document.documentElement;const v=window.getComputedStyle(f).position;let m=!!v&&v!=="static",L=s?M(o):q(o,f);if(!s){let{marginTop:w,marginLeft:E}=window.getComputedStyle(o);L.top+=parseInt(w,10)||0,L.left+=parseInt(E,10)||0}let b=M(n),x=$e(n);b.width+=x.left+x.right,b.height+=x.top+x.bottom;let S=he(a),O=V(r),h=V(f),R=r.tagName==="BODY"?M(f):q(f,r);return f.tagName==="HTML"&&r.tagName==="BODY"&&(h.scroll.top=0,h.scroll.left=0),xe(e,L,b,S,x,i,l,O,h,R,c,d,m,p,u,g)}function M(t){let{top:e,left:o,width:n,height:a}=t.getBoundingClientRect(),{scrollTop:i,scrollLeft:l,clientTop:r,clientLeft:c}=document.documentElement;return{top:e+i-r,left:o+l-c,width:n,height:a}}function q(t,e){let o=window.getComputedStyle(t),n;if(o.position==="fixed"){let{top:a,left:i,width:l,height:r}=t.getBoundingClientRect();n={top:a,left:i,width:l,height:r}}else{n=M(t);let a=M(e),i=window.getComputedStyle(e);a.top+=(parseInt(i.borderTopWidth,10)||0)-e.scrollTop,a.left+=(parseInt(i.borderLeftWidth,10)||0)-e.scrollLeft,n.top-=a.top,n.left-=a.left}return n.top-=parseInt(o.marginTop,10)||0,n.left-=parseInt(o.marginLeft,10)||0,n}function Ee(t){let e=t.offsetParent;if(e&&e===document.body&&window.getComputedStyle(e).position==="static"&&!G(e)&&(e=document.documentElement),e==null)for(e=t.parentElement;e&&!G(e);)e=e.parentElement;return e||document.documentElement}function G(t){let e=window.getComputedStyle(t);return e.transform!=="none"||/transform|perspective/.test(e.willChange)||e.filter!=="none"||e.contain==="paint"||"backdropFilter"in e&&e.backdropFilter!=="none"||"WebkitBackdropFilter"in e&&e.WebkitBackdropFilter!=="none"}const Pe=new WeakMap;function ye(t){let{triggerRef:e,isOpen:o,onClose:n}=t;y.useEffect(()=>{if(!o||n===null)return;let a=i=>{let l=i.target;if(!e.current||l instanceof Node&&!l.contains(e.current))return;let r=n||Pe.get(e.current);r&&r()};return window.addEventListener("scroll",a,!0),()=>{window.removeEventListener("scroll",a,!0)}},[o,n,e])}let $=typeof document<"u"&&window.visualViewport;function Ne(t){let{direction:e}=ce(),{arrowSize:o=0,targetRef:n,overlayRef:a,scrollRef:i=a,placement:l="bottom",containerPadding:r=12,shouldFlip:c=!0,boundaryElement:d=typeof document<"u"?document.body:null,offset:p=0,crossOffset:u=0,shouldUpdatePosition:g=!0,isOpen:f=!0,onClose:s,maxHeight:v,arrowBoundaryOffset:m=0}=t,[L,b]=y.useState({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),x=[g,l,a.current,n.current,i.current,r,c,d,p,u,f,e,v,m,o],S=y.useRef($==null?void 0:$.scale);y.useEffect(()=>{f&&(S.current=$==null?void 0:$.scale)},[f]);let O=y.useCallback(()=>{if(g===!1||!f||!a.current||!n.current||!i.current||!d||($==null?void 0:$.scale)!==S.current)return;let w=a.current;if(!v&&a.current){var E;w.style.top="0px",w.style.bottom="";var I;w.style.maxHeight=((I=(E=window.visualViewport)===null||E===void 0?void 0:E.height)!==null&&I!==void 0?I:window.innerHeight)+"px"}let T=we({placement:Oe(l,e),overlayNode:a.current,targetNode:n.current,scrollNode:i.current,padding:r,shouldFlip:c,boundaryElement:d,offset:p,crossOffset:u,maxHeight:v,arrowSize:o,arrowBoundaryOffset:m});w.style.top="",w.style.bottom="",Object.keys(T.position).forEach(z=>w.style[z]=T.position[z]+"px"),w.style.maxHeight=T.maxHeight!=null?T.maxHeight+"px":void 0,b(T)},x);U(O,x),Le(O),ge({ref:a,onResize:O});let h=y.useRef(!1);U(()=>{let w,E=()=>{h.current=!0,clearTimeout(w),w=setTimeout(()=>{h.current=!1},500),O()},I=()=>{h.current&&E()};return $==null||$.addEventListener("resize",E),$==null||$.addEventListener("scroll",I),()=>{$==null||$.removeEventListener("resize",E),$==null||$.removeEventListener("scroll",I)}},[O]);let R=y.useCallback(()=>{h.current||s()},[s,h]);return ye({triggerRef:n,isOpen:f,onClose:s&&R}),{overlayProps:{style:{position:"absolute",zIndex:1e5,...L.position,maxHeight:L.maxHeight}},placement:L.placement,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:L.arrowOffsetLeft,top:L.arrowOffsetTop}},updatePosition:O}}function Le(t){U(()=>(window.addEventListener("resize",t,!1),()=>{window.removeEventListener("resize",t,!1)}),[t])}function Oe(t,e){return e==="rtl"?t.replace("start","right").replace("end","left"):t.replace("start","left").replace("end","right")}function Ie(t){let{ref:e,onInteractOutside:o,isDisabled:n,onInteractOutsideStart:a}=t,i=y.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),l=K(c=>{o&&N(c,e)&&(a&&a(c),i.current.isPointerDown=!0)}),r=K(c=>{o&&o(c)});y.useEffect(()=>{let c=i.current;if(n)return;const d=e.current,p=le(d);if(typeof PointerEvent<"u"){let u=g=>{c.isPointerDown&&N(g,e)&&r(g),c.isPointerDown=!1};return p.addEventListener("pointerdown",l,!0),p.addEventListener("pointerup",u,!0),()=>{p.removeEventListener("pointerdown",l,!0),p.removeEventListener("pointerup",u,!0)}}else{let u=f=>{c.ignoreEmulatedMouseEvents?c.ignoreEmulatedMouseEvents=!1:c.isPointerDown&&N(f,e)&&r(f),c.isPointerDown=!1},g=f=>{c.ignoreEmulatedMouseEvents=!0,c.isPointerDown&&N(f,e)&&r(f),c.isPointerDown=!1};return p.addEventListener("mousedown",l,!0),p.addEventListener("mouseup",u,!0),p.addEventListener("touchstart",l,!0),p.addEventListener("touchend",g,!0),()=>{p.removeEventListener("mousedown",l,!0),p.removeEventListener("mouseup",u,!0),p.removeEventListener("touchstart",l,!0),p.removeEventListener("touchend",g,!0)}}},[e,n,l,r])}function N(t,e){if(t.button>0)return!1;if(t.target){const o=t.target.ownerDocument;if(!o||!o.documentElement.contains(t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current&&!e.current.contains(t.target)}const C=[];function Ye(t,e){let{onClose:o,shouldCloseOnBlur:n,isOpen:a,isDismissable:i=!1,isKeyboardDismissDisabled:l=!1,shouldCloseOnInteractOutside:r}=t;y.useEffect(()=>(a&&C.push(e),()=>{let s=C.indexOf(e);s>=0&&C.splice(s,1)}),[a,e]);let c=()=>{C[C.length-1]===e&&o&&o()},d=s=>{(!r||r(s.target))&&C[C.length-1]===e&&(s.stopPropagation(),s.preventDefault())},p=s=>{(!r||r(s.target))&&(C[C.length-1]===e&&(s.stopPropagation(),s.preventDefault()),c())},u=s=>{s.key==="Escape"&&!l&&!s.nativeEvent.isComposing&&(s.stopPropagation(),s.preventDefault(),c())};Ie({ref:e,onInteractOutside:i&&a?p:null,onInteractOutsideStart:d});let{focusWithinProps:g}=se({isDisabled:!n,onBlurWithin:s=>{!s.relatedTarget||pe(s.relatedTarget)||(!r||r(s.relatedTarget))&&o()}}),f=s=>{s.target===s.currentTarget&&s.preventDefault()};return{overlayProps:{onKeyDown:u,...g},underlayProps:{onPointerDown:f}}}var _e=fe({slots:{base:["z-0","relative","bg-transparent","before:content-['']","before:hidden","before:z-[-1]","before:absolute","before:rotate-45","before:w-2.5","before:h-2.5","before:rounded-sm","data-[arrow=true]:before:block","data-[placement=top]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top]:before:left-1/2","data-[placement=top]:before:-translate-x-1/2","data-[placement=top-start]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-start]:before:left-3","data-[placement=top-end]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-end]:before:right-3","data-[placement=bottom]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom]:before:left-1/2","data-[placement=bottom]:before:-translate-x-1/2","data-[placement=bottom-start]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-start]:before:left-3","data-[placement=bottom-end]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-end]:before:right-3","data-[placement=left]:before:-right-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=left]:before:top-1/2","data-[placement=left]:before:-translate-y-1/2","data-[placement=left-start]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-start]:before:top-1/4","data-[placement=left-end]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-end]:before:bottom-1/4","data-[placement=right]:before:-left-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=right]:before:top-1/2","data-[placement=right]:before:-translate-y-1/2","data-[placement=right-start]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-start]:before:top-1/4","data-[placement=right-end]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-end]:before:bottom-1/4",...de],content:["z-10","px-2.5","py-1","w-full","inline-flex","flex-col","items-center","justify-center","box-border","subpixel-antialiased","outline-none","box-border"],trigger:["z-10"],backdrop:["hidden"],arrow:[]},variants:{size:{sm:{content:"text-tiny"},md:{content:"text-small"},lg:{content:"text-medium"}},color:{default:{base:"before:bg-content1 before:shadow-small",content:"bg-content1"},foreground:{base:"before:bg-foreground",content:k.solid.foreground},primary:{base:"before:bg-primary",content:k.solid.primary},secondary:{base:"before:bg-secondary",content:k.solid.secondary},success:{base:"before:bg-success",content:k.solid.success},warning:{base:"before:bg-warning",content:k.solid.warning},danger:{base:"before:bg-danger",content:k.solid.danger}},radius:{none:{content:"rounded-none"},sm:{content:"rounded-small"},md:{content:"rounded-medium"},lg:{content:"rounded-large"},full:{content:"rounded-full"}},shadow:{sm:{content:"shadow-small"},md:{content:"shadow-medium"},lg:{content:"shadow-large"}},backdrop:{transparent:{},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-sm backdrop-saturate-150 bg-overlay/30"}},triggerScaleOnOpen:{true:{trigger:["aria-expanded:scale-[0.97]","aria-expanded:opacity-70","subpixel-antialiased"]},false:{}},disableAnimation:{true:{base:"animate-none"}},isTriggerDisabled:{true:{trigger:"opacity-disabled pointer-events-none"},false:{}}},defaultVariants:{color:"default",radius:"lg",size:"md",shadow:"md",backdrop:"transparent",triggerScaleOnOpen:!0},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"block w-full h-full fixed inset-0 -z-30"}}]}),H={ease:[.36,.66,.4,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1],spring:[.155,1.105,.295,1.12],springOut:[.57,-.15,.62,.07],softSpring:[.16,1.11,.3,1.02]},Xe={scaleSpring:{enter:{transform:"scale(1)",opacity:1,transition:{type:"spring",bounce:0,duration:.2}},exit:{transform:"scale(0.85)",opacity:0,transition:{type:"easeOut",duration:.15}}},scaleSpringOpacity:{initial:{opacity:0,transform:"scale(0.8)"},enter:{opacity:1,transform:"scale(1)",transition:{type:"spring",bounce:0,duration:.3}},exit:{opacity:0,transform:"scale(0.96)",transition:{type:"easeOut",bounce:0,duration:.15}}},scale:{enter:{scale:1},exit:{scale:.95}},scaleFadeIn:{enter:{transform:"scale(1)",opacity:1,transition:{duration:.25,ease:H.easeIn}},exit:{transform:"scale(0.95)",opacity:0,transition:{duration:.2,ease:H.easeOut}}},scaleInOut:{enter:{transform:"scale(1)",opacity:1,transition:{duration:.4,ease:H.ease}},exit:{transform:"scale(1.03)",opacity:0,transition:{duration:.3,ease:H.ease}}},fade:{enter:{opacity:1,transition:{duration:.4,ease:H.ease}},exit:{opacity:0,transition:{duration:.3,ease:H.ease}}},collapse:{enter:{opacity:1,height:"auto",transition:{height:{type:"spring",bounce:0,duration:.3},opacity:{easings:"ease",duration:.4}}},exit:{opacity:0,height:0,transition:{easings:"ease",duration:.3}}}},Fe=t=>{const e={top:{originY:1},bottom:{originY:0},left:{originX:1},right:{originX:0},"top-start":{originX:0,originY:1},"top-end":{originX:1,originY:1},"bottom-start":{originX:0,originY:0},"bottom-end":{originX:1,originY:0},"right-start":{originX:0,originY:0},"right-end":{originX:0,originY:1},"left-start":{originX:1,originY:0},"left-end":{originX:1,originY:1}};return(e==null?void 0:e[t])||{}},Ue=t=>({top:"top",bottom:"bottom",left:"left",right:"right","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","left-start":"left top","left-end":"left bottom","right-start":"right top","right-end":"right bottom"})[t],Be=(t,e)=>{if(e.includes("-")){const[o]=e.split("-");if(o.includes(t))return!1}return!0},Ke=(t,e)=>{if(e.includes("-")){const[,o]=e.split("-");return`${t}-${o}`}return t};function Ve(t){let[e,o]=ue(t.isOpen,t.defaultOpen||!1,t.onOpenChange);const n=y.useCallback(()=>{o(!0)},[o]),a=y.useCallback(()=>{o(!1)},[o]),i=y.useCallback(()=>{o(!e)},[o,e]);return{isOpen:e,setOpen:o,open:n,close:a,toggle:i}}export{Ve as $,Xe as T,Ne as a,Ye as b,Ke as c,Pe as d,Be as e,H as f,Fe as g,_e as p,Ue as t};
