import{z as N,r as h,f as k,h as g,j as e,L as b,J as u,K as C,aX as L}from"./index-B8WTsAS6.js";/* empty css                */import{S as _}from"./sidebar-S6nbep0h.js";import"./XMarkIcon-CR00bvNx.js";import"./useFocus-CiKVCmpT.js";import"./useFocusWithin-Cnv4cfRz.js";import"./useEffectEvent-Cg1JSw20.js";import"./transition-iMQxfHpN.js";import"./PlusIcon-CtLI7RNP.js";import"./useHover-BojuH7IM.js";import"./floating-BLazkgv_.js";const M=["Ram","Color","Storage","Screen","CPU","Pin"];function n(a){return u.format(a,{code:"VND",symbol:""})}const Z=()=>{const{price:a}=N(),[w,j]=h.useState([]);let t;const y=k();g(s=>s.watchlist.items);const v=g(s=>{var r;return(r=s.auth.profile.profile)==null?void 0:r._id}),p=async s=>{if(v)try{await y(C({productId:s})).unwrap()}catch(r){console.error("Error adding product to watchlist",r)}};switch(a){case"price-0":t="Dưới 500.000 VNĐ";break;case"price-1":t="500.000 VNĐ - 1.000.000 VNĐ";break;case"price-2":t="1.000.000 VNĐ - 3.000.000 VNĐ";break;case"price-3":t="3.000.000 VNĐ - 5.000.000 VNĐ";break;case"price-4":t="Trên 5.000.000 VNĐ";break;default:t="Khoảng giá không hợp lệ";break}const f=async()=>{if(a)try{const s=await L(a);j(s.data)}catch(s){console.error("Error fetching search results:",s)}else console.log("Lỗi")};return h.useEffect(()=>{f()},[a]),e.jsx(e.Fragment,{children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container py-4 flex items-center gap-3",children:[e.jsx("a",{href:"/",className:"text-primary text-base flex items-center",children:e.jsx("span",{className:"ml-2",children:"Trang chủ"})}),e.jsx("span",{className:"text-sm text-gray-400 mx-2",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Sản phẩm"})]}),e.jsxs("div",{className:"container grid md:grid-cols-4 grid-cols-2 gap-6 pt-4 pb-16 items-start",children:[e.jsx("div",{className:"col-span-1 bg-white px-4 pb-6 shadow rounded overflow-hidden md:block hidden",children:e.jsx("div",{className:"divide-y divide-gray-200 space-y-5",children:e.jsx("div",{className:"pt-4 block",children:e.jsx(_,{})})})}),e.jsx("div",{className:"text-center md:hidden",children:e.jsx("button",{className:"text-white hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 block",type:"button","data-drawer-target":"drawer-example","data-drawer-show":"drawer-example","aria-controls":"drawer-example"})}),e.jsxs("h1",{className:"text-center text-3xl mb-6",children:["Khoảng giá: ",t]}),e.jsx("div",{className:"col-span-3",children:(a??"").length>0&&e.jsx("div",{className:"grid md:grid-cols-4 grid-cols-2 gap-6",children:w.map((s,r)=>{var o,d,m,x,c;return e.jsxs("div",{className:"rounded-md border border-gray-200 bg-white p-5 shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[e.jsx("div",{className:"h-56 w-auto",children:e.jsx(b,{to:`/detailProd/${s==null?void 0:s._id}`,children:e.jsx("figure",{className:"relative max-w-sm transition-all duration-300 cursor-pointer filter grayscale-0",children:e.jsx("a",{href:"#",children:e.jsx("img",{className:"rounded-lg",src:s==null?void 0:s.image[0],alt:`product ${r+1}`})})})})}),e.jsxs("div",{className:"pt-6",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4",children:[((o=s==null?void 0:s.product_discount)==null?void 0:o.discountPercent)>0?e.jsxs("span",{className:"me-2 rounded bg-primary-100 px-2.5 py-0.5 text-xs font-medium text-primary-800 dark:bg-primary-900 dark:text-primary-300",children:["Giảm giá"," ",(d=s==null?void 0:s.product_discount)==null?void 0:d.discountPercent,"%"]}):e.jsx("span",{className:"me-2 rounded px-2.5 py-0.5 text-xs font-medium text-primary-800 dark:bg-primary-900 dark:text-primary-300"}),e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsxs("button",{type:"button","data-tooltip-target":"tooltip-quick-look",className:"flex items-center rounded-lg p-2 text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[(s==null?void 0:s.view)>0?e.jsxs("span",{className:"mr-2",children:["(",s==null?void 0:s.view,")"]}):"",e.jsxs("svg",{className:"h-5 w-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",children:[e.jsx("path",{stroke:"currentColor",strokeWidth:2,d:"M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"}),e.jsx("path",{stroke:"currentColor",strokeWidth:2,d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),e.jsx("span",{className:"sr-only",children:" Quick look "})]}),e.jsxs("div",{id:"tooltip-quick-look",role:"tooltip",className:"tooltip invisible absolute z-10 inline-block rounded-lg bg-gray-900 px-3 py-2 text-sm font-medium text-white opacity-0 shadow-sm transition-opacity duration-300 dark:bg-gray-700","data-popper-placement":"top",children:["fcdsf Quick look",e.jsx("div",{className:"tooltip-arrow","data-popper-arrow":""})]}),e.jsxs("button",{type:"button",onClick:()=>p(s==null?void 0:s._id),"data-tooltip-target":"tooltip-add-to-favorites",className:"rounded-lg p-2 text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[e.jsx("span",{className:"sr-only",children:" Add to Favorites "}),e.jsx("svg",{className:"h-5 w-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6C6.5 1 1 8 5.8 13l6.2 7 6.2-7C23 8 17.5 1 12 6Z"})})]}),e.jsxs("div",{id:"tooltip-add-to-favorites",role:"tooltip",className:"tooltip invisible absolute z-10 inline-block rounded-lg bg-gray-900 px-3 py-2 text-sm font-medium text-white opacity-0 shadow-sm transition-opacity duration-300 dark:bg-gray-700","data-popper-placement":"top",children:["Add to favorites",e.jsx("div",{className:"tooltip-arrow","data-popper-arrow":""})]})]})]}),e.jsx("a",{href:"#",className:"text-md font-semibold leading-tight text-gray-900 hover:text-balance dark:text-white",children:s==null?void 0:s.product_name}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 text-yellow-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M13.8 4.2a2 2 0 0 0-3.6 0L8.4 8.4l-4.6.3a2 2 0 0 0-1.1 3.5l3.5 3-1 4.4c-.5 1.7 1.4 3 2.9 2.1l3.9-2.3 3.9 2.3c1.5 1 3.4-.4 3-2.1l-1-4.4 3.4-3a2 2 0 0 0-1.1-3.5l-4.6-.3-1.8-4.2Z"})}),e.jsx("svg",{className:"h-4 w-4 text-yellow-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M13.8 4.2a2 2 0 0 0-3.6 0L8.4 8.4l-4.6.3a2 2 0 0 0-1.1 3.5l3.5 3-1 4.4c-.5 1.7 1.4 3 2.9 2.1l3.9-2.3 3.9 2.3c1.5 1 3.4-.4 3-2.1l-1-4.4 3.4-3a2 2 0 0 0-1.1-3.5l-4.6-.3-1.8-4.2Z"})}),e.jsx("svg",{className:"h-4 w-4 text-yellow-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M13.8 4.2a2 2 0 0 0-3.6 0L8.4 8.4l-4.6.3a2 2 0 0 0-1.1 3.5l3.5 3-1 4.4c-.5 1.7 1.4 3 2.9 2.1l3.9-2.3 3.9 2.3c1.5 1 3.4-.4 3-2.1l-1-4.4 3.4-3a2 2 0 0 0-1.1-3.5l-4.6-.3-1.8-4.2Z"})}),e.jsx("svg",{className:"h-4 w-4 text-yellow-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M13.8 4.2a2 2 0 0 0-3.6 0L8.4 8.4l-4.6.3a2 2 0 0 0-1.1 3.5l3.5 3-1 4.4c-.5 1.7 1.4 3 2.9 2.1l3.9-2.3 3.9 2.3c1.5 1 3.4-.4 3-2.1l-1-4.4 3.4-3a2 2 0 0 0-1.1-3.5l-4.6-.3-1.8-4.2Z"})}),e.jsx("svg",{className:"h-4 w-4 text-yellow-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M13.8 4.2a2 2 0 0 0-3.6 0L8.4 8.4l-4.6.3a2 2 0 0 0-1.1 3.5l3.5 3-1 4.4c-.5 1.7 1.4 3 2.9 2.1l3.9-2.3 3.9 2.3c1.5 1 3.4-.4 3-2.1l-1-4.4 3.4-3a2 2 0 0 0-1.1-3.5l-4.6-.3-1.8-4.2Z"})})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"5.0"}),e.jsxs("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:[" ",e.jsx("div",{className:"flex gap-1 text-sm text-yellow-400",children:Array.from({length:s==null?void 0:s.rating},(i,l)=>e.jsx("span",{children:e.jsx("i",{className:"fa-solid fa-star"})},l))}),e.jsx("div",{className:"text-xs text-gray-500 items-center m-3",children:(s==null?void 0:s.product_quantity)>0?`(Còn ${s==null?void 0:s.product_quantity} sản phẩm)`:" "})]})]}),e.jsxs("ul",{className:"mt-2 flex items-center gap-4",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"h-4 w-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h6l2 4m-8-4v8m0-8V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v9h2m8 0H9m4 0h2m4 0h2v-4m0 0h-5m3.5 5.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm-10 0a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z"})}),e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Giao hàng"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"h-4 w-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M8 7V6c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v7c0 .6-.4 1-1 1h-1M3 18v-7c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v7c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1Zm8-3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"})}),e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Giá tốt"})]})]}),e.jsx("div",{className:"mt-4 flex items-center justify-between gap-6",children:e.jsx("p",{className:"text-xs leading-tight text-gray-900 dark:text-white",children:((m=s==null?void 0:s.product_discount)==null?void 0:m.discountPercent)>1?e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-medium text-rose-700",children:[n((s==null?void 0:s.product_price)*(1-((x=s==null?void 0:s.product_discount)==null?void 0:x.discountPercent)/100)),"đ"]}),e.jsx("p",{className:"text-xs font-medium line-through text-gray-400",children:n(s==null?void 0:s.product_price)})]}):e.jsxs("p",{className:"text-xs font-medium text-rose-700",children:[n(s==null?void 0:s.product_price),"đ"]})})}),e.jsx("ul",{className:"max-w-md space-y-1 text-gray-500 list-disc list-inside dark:text-gray-400",children:e.jsx("div",{className:"mt-1 text-sm text-gray-800",children:(c=s==null?void 0:s.product_attributes)==null?void 0:c.filter(i=>M.includes(i.k)).map((i,l)=>e.jsxs("li",{className:"mb-1",children:[e.jsxs("strong",{children:[i.k,": "]}),e.jsx("span",{children:i.v})]},l))})}),e.jsx("ul",{className:"max-w-md space-y-1 text-gray-500 list-disc list-inside dark:text-gray-400",children:e.jsx("div",{className:"mt-1 text-sm text-gray-800",children:e.jsxs("li",{children:[e.jsx("strong",{children:"Khối lượng:"})," ",e.jsxs("span",{children:[s==null?void 0:s.weight_g," kg"]})]})})}),e.jsxs("div",{className:"mt-4 flex items-center justify-between gap-6",children:[" ",e.jsxs("button",{type:"button",className:"inline-flex items-center rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-500",children:[e.jsx("svg",{className:"-ms-2 me-2 h-5 w-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4h1.5L8 16m0 0h8m-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm.75-3H7.5M11 7H6.312M17 4v6m-3-3h6"})}),"Thêm vào giỏ hàng"]})," "]})]})]},r)})})})]})]})})},K=()=>e.jsx(e.Fragment,{children:e.jsx(Z,{})});export{K as default};
