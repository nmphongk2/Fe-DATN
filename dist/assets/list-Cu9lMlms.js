import{f as w,h as v,r as a,cF as N,j as e,L as o,cG as k}from"./index-B8WTsAS6.js";import{P as T}from"./paginationcrud-CYiMZm9R.js";import{S}from"./searchFormTimeTrack-CUgN8UN_.js";/* empty css                    */import{w as P}from"./sweetalert2-react-content.es-_20BSG7l.js";/* empty css                      */import{Q as C,B as l}from"./react-toastify.esm-BnAFxftJ.js";import{S as B}from"./sweetalert2.all-CanRnygg.js";import{R as _,b as D}from"./ReusableBreadcrumb-D5trGug1.js";import"./clsx-B-dksMZM.js";const H=P(B),m=s=>new Date(s).toLocaleString("vi-VN",{timeZone:"Asia/Ho_Chi_Minh",hour:"2-digit",minute:"2-digit",second:"2-digit",year:"numeric",month:"numeric",day:"numeric"}),R=()=>{const s=w(),{timeTracks:r,totalPages:h}=v(t=>t.adminTimeTrack),[n,i]=a.useState(1),[c]=a.useState(5),[d,x]=a.useState(""),[,p]=a.useState([]);a.useEffect(()=>{s(N({page:n,pageSize:c,search:d}))},[s,n,c,d]);const u=t=>{i(t)},g=t=>{x(t),i(1)},f=async t=>{H.fire({title:"Hủy sản phẩm?",text:"Bạn có chắc muốn hủy sản phẩm này không?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Có",cancelButtonText:"Hủy"}).then(async y=>{y.isConfirmed?(await s(k({id:t})).unwrap(),p(j=>j.filter(b=>b._id!==t)),l.success("Xóa sản phẩm thành công")):l.error("Có lỗi xảy ra khi xóa sản phẩm")})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mx-4 py-4 border-t dark:border-gray-700 space-y-3 md:space-y-0 md:space-x-3",children:[e.jsx("div",{className:"flex-grow",children:e.jsx(S,{onSearch:g})}),e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(o,{to:"/admin/addProdAuc",id:"createProductButton",className:"inline-flex items-center justify-center text-white bg-blue-500 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800",style:{height:"40px",display:"flex",alignItems:"center"},children:[e.jsx("svg",{className:"h-4 w-4 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"})}),"Thêm sản phẩm"]})})]}),e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"p-4",children:"Hình ảnh"}),e.jsx("th",{scope:"col",className:"p-4",children:"Tên sản phẩm"}),e.jsx("th",{scope:"col",className:"p-4",children:"Giờ bắt đầu"}),e.jsx("th",{scope:"col",className:"p-4",children:"Giờ kết thúc"}),e.jsx("th",{scope:"col",className:"p-4",children:"Trạng thái"}),e.jsx("th",{scope:"col",className:"p-4",children:"Chức năng"})]})}),e.jsx("tbody",{children:r&&r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center py-4",children:"No products found"})}):r==null?void 0:r.map(t=>e.jsxs("tr",{className:"border-b dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:e.jsx("div",{className:"flex items-center mr-3",children:e.jsx("img",{src:t.product.image[0],alt:t.product.product_name,className:"h-12 w-12 object-cover mr-3"})})}),e.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:t.product.product_name}),e.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:m(t.startTime)}),e.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:m(t.endTime)}),e.jsx("td",{className:`inline-flex items-center rounded-md px-2 py-1 mt-5 ml-5 text-xs font-medium ring-1 ring-current ${t.status==="active"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:t.status==="active"?"Hiển thị":"Đã ẩn"}),e.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>f(t._id),className:`lex items-center text-red-700 bg-red-200 hover:text-white border \r
                    border-red-700 hover:bg-red-800 focus:ring-4 \r
                    focus:outline-none focus:ring-red-300 \r
                    font-medium rounded-lg text-sm px-2 py-2 \r
                    text-center dark:border-red-500 dark:text-red-500 \r
                    dark:hover:text-white dark:hover:bg-red-600 \r
                    dark:focus:ring-red-900`,children:"Xóa"}),e.jsx(o,{to:`/admin/editProdAuc/${t._id}`,className:"py-2 px-3 flex items-center text-sm font-medium text-center text-white bg-lime-600 rounded-lg hover:bg-lime-500 focus:ring-4 focus:outline-none focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Sửa"})]})})]},t._id))})]}),e.jsx(T,{currentPage:n,totalPages:h,onPageChange:u}),e.jsx(C,{})]})},$=()=>e.jsxs("div",{children:[e.jsx(_,{items:D.listTimeProduct}),e.jsx("div",{className:"mb-4 ml-4 col-span-full xl:mb-2",children:e.jsx("h1",{className:"text-xl font-semibold text-gray-900 sm:text-2xl dark:text-white",children:"Danh sách sản phẩm đấu giá"})}),e.jsx("section",{className:"bg-gray-50 dark:bg-gray-900 p-3 sm:p-5 antialiased",children:e.jsx("div",{className:"mb-4 col-span-full xl:mb-2",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 relative shadow-md sm:rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsx(R,{})})})})})]});export{$ as default};
