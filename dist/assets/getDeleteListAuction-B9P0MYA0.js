import{bW as y,bX as d,r as p,l as k,j as e,bY as b,f as B,h as u}from"./index-B8WTsAS6.js";import{S as _}from"./sweetalert2.all-CanRnygg.js";import{w as C}from"./sweetalert2-react-content.es-_20BSG7l.js";import{D}from"./DeleteIcon-BukMQWWF.js";import{S}from"./searchMessage-I2XlDOxB.js";import{N as L}from"./noProduct-CCebxuri.js";import{t as T,a as M,b as m,c as A,d as P,e as E}from"./chunk-YRZGWF2W-CXxVUGNa.js";import{p as R}from"./chunk-MRXO6UUP-nmik_M5x.js";import{t as x}from"./chunk-3ZXLDIEA-b4fsncww.js";import{c as w}from"./chunk-4WFLSIHH-GgbuetXY.js";import{R as F,b as H}from"./ReusableBreadcrumb-D5trGug1.js";import"./chunk-N2KXC5ZE-mxrXGXiM.js";import"./chunk-XHQUSKIE-BwnSvnTo.js";import"./_class_private_field_set-DiTYLpP0.js";import"./filterDOMProps-B3AneKiX.js";import"./useEffectEvent-Cg1JSw20.js";import"./clsx-B-dksMZM.js";import"./getChildNodes-Cw4ook6e.js";import"./VisuallyHidden-D5xcTfY7.js";import"./useFocusWithin-Cnv4cfRz.js";import"./focusSafely-7dc_zii7.js";import"./useFocusable-BgsBLUcz.js";import"./useFocus-CiKVCmpT.js";import"./FocusScope-DCO5JZf9.js";import"./chunk-KBN3H6OQ-BYj_qRg-.js";import"./index-DiNnCp_7.js";import"./chunk-CAFRINWI-BTDo8zfp.js";import"./useFormValidationState-Ds8IGnmn.js";import"./useFormReset-BlmLPiDA.js";import"./chunk-CIZQCQPA-BQKhqm3c.js";import"./chunk-IXXDDLGU-D8Ib2K6T.js";import"./chunk-7F3ZLNJ6-B2JTPL8n.js";import"./chunk-MNNRULGA-Ck-UmubQ.js";import"./index-xaiLQO7O.js";import"./chunk-BZCSOIUI-ECjOxws-.js";import"./useOverlayTriggerState-_gK5y_xw.js";import"./number-DfkVkf0F.js";import"./useHover-BojuH7IM.js";import"./features-animation-BrpZblPW.js";const f=C(_),I=(s,r,c,o)=>{f.fire({title:"Xóa sản phẩm?",text:"Bạn có chắc muốn xóa sản phẩm này không!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Có",cancelButtonText:"Hủy"}).then(async n=>{var i,l;if(n.isConfirmed)try{const t=await r(y(s));if(y.rejected.match(t)){const a=((i=t.payload)==null?void 0:i.msg)||"Đã xảy ra sự cố khi xóa sản phẩm.";v(a)}else{const a=((l=t.payload)==null?void 0:l.msg)||"Sản phẩm của bạn đã bị xóa.";$(a),r(d({page:c,search:o}))}}catch{v("Đã xảy ra sự cố khi xóa sản phẩm.")}})},$=s=>{f.fire({title:"Đã xóa!",text:s,icon:"success",customClass:{confirmButton:"bg-blue-500 md:bg-green-500"}})},v=s=>{f.fire({title:"Lỗi!",text:s,icon:"error",customClass:{confirmButton:"bg-red-600"}})},G=()=>{const[s,r]=p.useState(""),c=k();p.useEffect(()=>{c(d({page:1,search:s||void 0}))},[s,c]);const o=n=>{n.preventDefault()};return e.jsx("div",{className:"w-full md:w-1/2",children:e.jsxs("form",{className:"flex items-center",onSubmit:o,children:[e.jsx("label",{htmlFor:"simple-search",className:"sr-only",children:"Search"}),e.jsx("div",{className:"relative w-full",children:e.jsx("input",{id:"simple-search",type:"search",className:"w-full py-1 px-2 border border-gray-300 rounded-md shadow-sm",placeholder:"Search",value:s,onChange:n=>r(n.target.value)})})]})})},V=({height:s="1em",strokeWidth:r="2",fill:c="none",focusable:o="false",...n})=>e.jsx("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:s,focusable:o,...n,children:e.jsxs("g",{fill:c,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:r,children:[e.jsx("path",{d:"M3.06 13a9 9 0 1 0 .49-4.087"}),e.jsx("path",{d:"M3 4.001v5h5M11 12a1 1 0 1 0 2 0a1 1 0 1 0-2 0"})]})}),g=C(_),X=(s,r,c,o)=>{g.fire({title:"Khôi phục?",text:"Bạn có muốn khôi phục sản phẩm này không!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Có",cancelButtonText:"Hủy"}).then(async n=>{var i,l;if(n.isConfirmed)try{const t=await r(b(s));if(b.rejected.match(t)){const a=((i=t.payload)==null?void 0:i.msg)||"Đã xảy ra sự cố khi khôi phục sản phẩm.";N(a)}else{const a=((l=t.payload)==null?void 0:l.msg)||"Sản phẩm đã được khôi phục thành công.";K(a),r(d({page:c,search:o}))}}catch{N("Đã xảy ra sự cố khi khôi phục sản phẩm.")}})},K=s=>{g.fire({title:"Đã khôi phục!",text:s,icon:"success",customClass:{confirmButton:"bg-blue-500 md:bg-green-500"}})},N=s=>{g.fire({title:"Lỗi!",text:s,icon:"error",customClass:{confirmButton:"bg-red-600"}})},W=()=>{const s=B(),[r]=p.useState(""),c=u(t=>{var a;return((a=t.products.getDeleteListAuction.pagination)==null?void 0:a.currentPage)||1}),o=u(t=>{var a;return((a=t.products.getDeleteListAuction.pagination)==null?void 0:a.totalPages)||1}),n=u(t=>t.products.getDeleteListAuction.productAuction||[]);p.useEffect(()=>{s(d({page:c,search:r}))},[s,c,r]);const i=t=>{s(d({page:t,search:r}))},l=(t,a)=>{var j;switch(a){case"image":return e.jsx("div",{className:"flex items-center",children:e.jsx("img",{src:t.image[0],alt:t.product_name,className:"w-16 md:w-32 max-w-full max-h-full sm:w-24 sm:min-w-[96px] sm:min-h-[96px] mr-2 rounded-xl"})});case"product_name":const h=t.product_name;return e.jsx(x,{content:h,delay:0,children:e.jsx("span",{children:h.length>20?`${h.substring(0,20)}...`:h})});case"product_type":return e.jsx(w,{color:"primary",children:((j=t.product_type)==null?void 0:j.name)||"Chưa có loại"});case"product_price":return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.product_price);case"status":return e.jsx(w,{color:t.status==="active"?"success":"danger",children:t.status==="active"?"Hiển thị":"Đã ẩn"});case"actions":return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{content:"xóa lun nha",children:e.jsx("button",{type:"button",onClick:()=>I(t._id,s,c,r),className:"text-red-700 hover:text-red-800",children:e.jsx(D,{})})}),e.jsx(x,{content:"Khôi phục nha",children:e.jsx("button",{type:"button",onClick:()=>X(t._id,s,c,r),className:"text-lime-600 hover:text-lime-500",children:e.jsx(V,{})})})]});default:return null}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col md:flex-row items-stretch md:items-center md:space-x-3 space-y-3 md:space-y-0 justify-between mx-4 py-4 border-t dark:border-gray-700",children:e.jsx(G,{})}),n.length===0&&r?e.jsx(S,{}):n.length===0?e.jsx(L,{}):e.jsxs(T,{"aria-label":"Product List Auction Table",shadow:void 0,color:"secondary",className:"p-4",children:[e.jsxs(M,{children:[e.jsx(m,{children:"Hình ảnh"}),e.jsx(m,{children:"Tên sản phẩm"}),e.jsx(m,{children:"Danh mục"}),e.jsx(m,{children:"Giá gốc"}),e.jsx(m,{children:"Trạng thái"}),e.jsx(m,{children:"Chức năng"})]}),e.jsx(A,{children:n.map(t=>e.jsx(P,{children:["image","product_name","product_type","product_price","status","actions"].map(a=>e.jsx(E,{children:l(t,a)},a))},t._id))})]}),o>1&&e.jsx("div",{className:"flex justify-center my-4",children:e.jsx(R,{isCompact:!0,loop:!0,showControls:!0,color:"primary",total:o,initialPage:c,onChange:t=>i(t)})})]})},Y=()=>{const s=u(r=>r.products.getDeleteListAuction.total||[]);return e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-3 md:space-y-0 md:space-x-4 p-4",children:e.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[e.jsxs("h5",{children:[e.jsx("span",{className:"text-gray-500",children:"Tổng có: "}),e.jsx("span",{className:"dark:text-white",children:s})]}),e.jsx("h5",{className:"text-gray-500 dark:text-gray-400 ml-1",children:"Sản phẩm xóa mềm"})]})})},Me=()=>e.jsxs("div",{children:[e.jsx(F,{items:H.deleteListAuction}),e.jsx("div",{className:"mb-4 ml-4 col-span-full xl:mb-2",children:e.jsx("h1",{className:"text-xl font-semibold text-gray-900 sm:text-2xl dark:text-white",children:"Danh sách xóa mềm sản phẩm đấu giá"})}),e.jsx("section",{className:"bg-gray-50 dark:bg-gray-900 p-3 sm:p-5 antialiased",children:e.jsx("div",{className:"mb-4 col-span-full xl:mb-2",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 relative border shadow-md sm:rounded-lg overflow-hidden",children:[e.jsx(Y,{}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(W,{})})]})})})]});export{Me as default};
