import{j as e,L as C,r as y,g as A}from"./index-B8WTsAS6.js";import{A as I}from"./avatar-D_NadDZ0.js";/* empty css                */import{j as D}from"./index-VWaDGczM.js";const z=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"col-span-3",children:[e.jsxs("div",{className:"px-4 py-3 shadow flex items-center gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:I,alt:"profile",className:"rounded-full w-14 h-14 border border-gray-200 p-1 object-cover"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("p",{className:"text-gray-600",children:"Hello,"}),e.jsx("h4",{className:"text-gray-800 font-medium",children:"EMail"})]})]}),e.jsxs("div",{className:"mt-6 bg-white shadow rounded p-4 divide-y divide-gray-200 space-y-4 text-gray-600",children:[e.jsxs("div",{className:"space-y-1 pl-8",children:[e.jsxs("a",{href:"#",className:"relative text-primary block font-medium capitalize transition",children:[e.jsx("span",{className:"absolute -left-8 top-0 text-base",children:e.jsx("i",{className:"fa-regular fa-address-card"})}),"Manage account"]}),e.jsx(C,{to:"/profile",className:"relative hover:text-primary block capitalize transition",children:"Thông tin cá nhân"}),e.jsx("a",{href:"#",className:"relative hover:text-primary block capitalize transition",children:"Đổi mật khẩu"})]}),e.jsx("div",{className:"space-y-1 pl-8 pt-4",children:e.jsxs("a",{href:"#",className:"relative hover:text-primary block font-medium capitalize transition",children:[e.jsx("span",{className:"absolute -left-8 top-0 text-base",children:e.jsx("i",{className:"fa-solid fa-box-archive"})}),"Cập nhật thông tin"]})}),e.jsxs("div",{className:"space-y-1 pl-8 pt-4",children:[e.jsxs("a",{href:"#",className:"relative hover:text-primary block font-medium capitalize transition",children:[e.jsx("span",{className:"absolute -left-8 top-0 text-base",children:e.jsx("i",{className:"fa-solid fa-box-archive"})}),"Lịch sử đơn hàng"]}),e.jsx("a",{href:"#",className:"relative hover:text-primary block capitalize transition",children:"Nhận xét"})]}),e.jsx("div",{className:"space-y-1 pl-8 pt-4",children:e.jsx("a",{href:"#",className:"relative hover:text-primary block capitalize transition",children:"Voucher"})}),e.jsx("div",{className:"space-y-1 pl-8 pt-4",children:e.jsxs("a",{href:"#",className:"relative hover:text-primary block font-medium capitalize transition",children:[e.jsx("span",{className:"absolute -left-8 top-0 text-base",children:e.jsx("i",{className:"fa-regular fa-heart"})}),"Yêu thích"]})}),e.jsx("div",{className:"space-y-1 pl-8 pt-4",children:e.jsxs("a",{href:"#",className:"relative hover:text-primary block font-medium capitalize transition",children:[e.jsx("span",{className:"absolute -left-8 top-0 text-base",children:e.jsx("i",{className:"fa-solid fa-right-from-bracket"})}),"Logout"]})})]})]})});/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var O=H,k=R,U=Object.prototype.toString,v=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function H(t,i){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var s={},o=i||{},d=o.decode||F,l=0;l<t.length;){var a=t.indexOf("=",l);if(a===-1)break;var p=t.indexOf(";",l);if(p===-1)p=t.length;else if(p<a){l=t.lastIndexOf(";",a-1)+1;continue}var f=t.slice(l,a).trim();if(s[f]===void 0){var c=t.slice(a+1,p).trim();c.charCodeAt(0)===34&&(c=c.slice(1,-1)),s[f]=J(c,d)}l=p+1}return s}function R(t,i,s){var o=s||{},d=o.encode||V;if(typeof d!="function")throw new TypeError("option encode is invalid");if(!v.test(t))throw new TypeError("argument name is invalid");var l=d(i);if(l&&!v.test(l))throw new TypeError("argument val is invalid");var a=t+"="+l;if(o.maxAge!=null){var p=o.maxAge-0;if(isNaN(p)||!isFinite(p))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(p)}if(o.domain){if(!v.test(o.domain))throw new TypeError("option domain is invalid");a+="; Domain="+o.domain}if(o.path){if(!v.test(o.path))throw new TypeError("option path is invalid");a+="; Path="+o.path}if(o.expires){var f=o.expires;if(!K(f)||isNaN(f.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+f.toUTCString()}if(o.httpOnly&&(a+="; HttpOnly"),o.secure&&(a+="; Secure"),o.partitioned&&(a+="; Partitioned"),o.priority){var c=typeof o.priority=="string"?o.priority.toLowerCase():o.priority;switch(c){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(o.sameSite){var u=typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite;switch(u){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function F(t){return t.indexOf("%")!==-1?decodeURIComponent(t):t}function V(t){return encodeURIComponent(t)}function K(t){return U.call(t)==="[object Date]"||t instanceof Date}function J(t,i){try{return i(t)}catch{return t}}function G(){const t=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof t=="boolean"?t:typeof document=="object"&&typeof document.cookie=="string"}function Y(t){return typeof t=="string"?O(t):typeof t=="object"&&t!==null?t:{}}function S(t,i={}){const s=q(t);if(!i.doNotParse)try{return JSON.parse(s)}catch{}return t}function q(t){return t&&t[0]==="j"&&t[1]===":"?t.substr(2):t}class B{constructor(i,s={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const d=this.cookies;this.cookies=O(document.cookie),this._checkChanges(d)};const o=typeof document>"u"?"":document.cookie;this.cookies=Y(i||o),this.defaultSetOptions=s,this.HAS_DOCUMENT_COOKIE=G()}_emitChange(i){for(let s=0;s<this.changeListeners.length;++s)this.changeListeners[s](i)}_checkChanges(i){new Set(Object.keys(i).concat(Object.keys(this.cookies))).forEach(o=>{i[o]!==this.cookies[o]&&this._emitChange({name:o,value:S(this.cookies[o])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(i,s={}){return s.doNotUpdate||this.update(),S(this.cookies[i],s)}getAll(i={}){i.doNotUpdate||this.update();const s={};for(let o in this.cookies)s[o]=S(this.cookies[o],i);return s}set(i,s,o){o?o=Object.assign(Object.assign({},this.defaultSetOptions),o):o=this.defaultSetOptions;const d=typeof s=="string"?s:JSON.stringify(s);this.cookies=Object.assign(Object.assign({},this.cookies),{[i]:d}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=k(i,d,o)),this._emitChange({name:i,value:s,options:o})}remove(i,s){const o=s=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),s),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[i],this.HAS_DOCUMENT_COOKIE&&(document.cookie=k(i,"",o)),this._emitChange({name:i,value:void 0,options:s})}addChangeListener(i){this.changeListeners.push(i),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(i){const s=this.changeListeners.indexOf(i);s>=0&&this.changeListeners.splice(s,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}const W=y.createContext(new B);var E={exports:{}},n={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w;function Q(){if(w)return n;w=1;var t=typeof Symbol=="function"&&Symbol.for,i=t?Symbol.for("react.element"):60103,s=t?Symbol.for("react.portal"):60106,o=t?Symbol.for("react.fragment"):60107,d=t?Symbol.for("react.strict_mode"):60108,l=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,p=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,u=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,x=t?Symbol.for("react.memo"):60115,b=t?Symbol.for("react.lazy"):60116,$=t?Symbol.for("react.block"):60121,L=t?Symbol.for("react.fundamental"):60117,M=t?Symbol.for("react.responder"):60118,P=t?Symbol.for("react.scope"):60119;function m(r){if(typeof r=="object"&&r!==null){var j=r.$$typeof;switch(j){case i:switch(r=r.type,r){case f:case c:case o:case l:case d:case h:return r;default:switch(r=r&&r.$$typeof,r){case p:case u:case b:case x:case a:return r;default:return j}}case s:return j}}}function N(r){return m(r)===c}return n.AsyncMode=f,n.ConcurrentMode=c,n.ContextConsumer=p,n.ContextProvider=a,n.Element=i,n.ForwardRef=u,n.Fragment=o,n.Lazy=b,n.Memo=x,n.Portal=s,n.Profiler=l,n.StrictMode=d,n.Suspense=h,n.isAsyncMode=function(r){return N(r)||m(r)===f},n.isConcurrentMode=N,n.isContextConsumer=function(r){return m(r)===p},n.isContextProvider=function(r){return m(r)===a},n.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===i},n.isForwardRef=function(r){return m(r)===u},n.isFragment=function(r){return m(r)===o},n.isLazy=function(r){return m(r)===b},n.isMemo=function(r){return m(r)===x},n.isPortal=function(r){return m(r)===s},n.isProfiler=function(r){return m(r)===l},n.isStrictMode=function(r){return m(r)===d},n.isSuspense=function(r){return m(r)===h},n.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===o||r===c||r===l||r===d||r===h||r===g||typeof r=="object"&&r!==null&&(r.$$typeof===b||r.$$typeof===x||r.$$typeof===a||r.$$typeof===p||r.$$typeof===u||r.$$typeof===L||r.$$typeof===M||r.$$typeof===P||r.$$typeof===$)},n.typeOf=m,n}E.exports=Q();var X=E.exports,_=X,Z={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ee={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},T={};T[_.ForwardRef]=Z;T[_.Memo]=ee;function te(){return typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"}function re(t,i){const s=y.useContext(W);if(!s)throw new Error("Missing <CookiesProvider>");const d=Object.assign(Object.assign({},{doNotUpdate:!0}),i),[l,a]=y.useState(()=>s.getAll(d));te()&&y.useLayoutEffect(()=>{function u(){const h=s.getAll(d);se(t||null,h,l)&&a(h)}return s.addChangeListener(u),()=>{s.removeChangeListener(u)}},[s,l]);const p=y.useMemo(()=>s.set.bind(s),[s]),f=y.useMemo(()=>s.remove.bind(s),[s]),c=y.useMemo(()=>s.update.bind(s),[s]);return[l,p,f,c]}function se(t,i,s){if(!t)return!0;for(let o of t)if(i[o]!==s[o])return!0;return!1}const ie=t=>{try{const i=D(t);return{id:i.id||"",email:i.email||"",roles:i.roles||[],name:i.name||"",avatar:i.avatar||"",iat:i.iat||0,exp:i.exp||0}}catch(i){return console.error("Failed to decode token:",i),{id:"",email:"",roles:[],name:"",avatar:"",iat:0,exp:0}}},oe=()=>{const[t]=re(["token"]),i=t.token;if(console.log("Token data:",i),i)try{return ie(i)}catch(s){console.error("Failed to decode token:",s)}return{id:"",email:"",roles:[],name:"",avatar:"",iat:0,exp:0}},ae=()=>{const[t,i]=y.useState({items:[],totalPrice:0,shipping:0,applyVoucher:!1,selectedVoucher:void 0}),[s,o]=y.useState(0),[,d]=y.useState(null),l=A();y.useEffect(()=>{const c=localStorage.getItem("cart"),u=localStorage.getItem("grandTotal"),h=JSON.parse(localStorage.getItem("selectedVoucher")||"null");if(c){const g=JSON.parse(c);i(x=>({...x,items:g,totalPrice:a(g)}))}u&&o(JSON.parse(u)),h&&d(h)},[]);const a=c=>c.reduce((u,h)=>u+h.price*h.quantity,0),p=oe(),f=p.roles.find(c=>c.name==="user");return y.useEffect(()=>{f||l("/not-authorized")},[f,l]),f?e.jsx(e.Fragment,{children:e.jsx("div",{className:"col-span-9 shadow rounded px-6 pt-5 pb-7",children:e.jsx("div",{className:"relative overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Email"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Hình ảnh"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tên sản phẩm"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Số lượng"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Giá"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("td",{className:"px-6 py-4",children:p.email}),e.jsx("td",{colSpan:4})," "]}),t.items.map((c,u)=>e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("td",{className:"px-6 py-4"})," ",e.jsx("td",{className:"px-6 py-4",children:e.jsx("img",{src:c.imgPreview,alt:`product ${c.name}`,className:"w-28 h-28 object-cover"})}),e.jsx("td",{className:"px-6 py-4",children:c.name}),e.jsx("td",{className:"px-6 py-4",children:c.quantity}),e.jsxs("td",{className:"px-6 py-4",children:[c.price.toLocaleString()," vnđ"]})]},u)),e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("td",{className:"px-6 py-4 font-bold",colSpan:4,children:"Thanh toán"}),e.jsxs("td",{className:"px-6 py-4 font-bold",children:[s.toLocaleString()," vnđ"]})]})]})]})})})}):e.jsx("div",{children:"You are not authorized to view this page."})},pe=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container py-4 flex items-center gap-3",children:[e.jsx(C,{to:"/",className:"text-primary text-base",children:e.jsx("i",{className:"fa-solid fa-house"})}),e.jsx("span",{className:"text-sm text-gray-400",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"HỒ SƠ KHÁCH HÀNG"})]}),e.jsxs("div",{className:"container grid grid-cols-12 items-start gap-6 pt-4 pb-16",children:[e.jsx(z,{}),e.jsx(ae,{})]})]});export{pe as default};
