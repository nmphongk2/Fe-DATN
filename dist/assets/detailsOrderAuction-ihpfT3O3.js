import{d4 as k,db as v,f as C,z as S,h as A,r as o,g as T,dc as N,j as s,aK as j}from"./index-B8WTsAS6.js";import{C as D}from"./Card-Df5Z5bdj.js";/* empty css                      */import{Q as V,B as L}from"./react-toastify.esm-BnAFxftJ.js";import{p as B}from"./chunk-5A5NBK2V-B8-r7H_u.js";import{b as l}from"./chunk-DBLREEYE-KYxkDfWC.js";import"./clsx-B-dksMZM.js";import"./chunk-N2KXC5ZE-mxrXGXiM.js";import"./chunk-XHQUSKIE-BwnSvnTo.js";import"./chunk-MNNRULGA-Ck-UmubQ.js";import"./index-D8A0NvNB.js";import"./filterDOMProps-B3AneKiX.js";import"./useEffectEvent-Cg1JSw20.js";import"./number-DfkVkf0F.js";import"./useLabel-C_525Utu.js";import"./useLabels-C5NmhLsG.js";import"./_class_private_field_set-DiTYLpP0.js";import"./chunk-BZCSOIUI-ECjOxws-.js";import"./chunk-6NL67ZRH-ST4yRtyp.js";import"./features-animation-BrpZblPW.js";import"./chunk-TDOFO53L-BhVz0FjF.js";const H=k("orderAucAdmin/updateOrderStatus",async({orderId:n,stateOrder:i},{rejectWithValue:c})=>{try{return await v(n,i)}catch{return c("Cập nhật không thành công")}}),I=()=>{var h,d,x,u,p,g;const n=C(),{id:i}=S(),c=A(a=>a.orderAucAdmin),[m,t]=o.useState(0),b=T();o.useEffect(()=>{i&&n(N(i))},[n,i]);const e=c.confirmOrder;o.useEffect(()=>{switch(e==null?void 0:e.state){case"Chờ xử lý":t(15);break;case"Đã xác nhận":t(25);break;case"Vận chuyển":t(55);break;case"Nhận hàng":t(75);break;case"Hoàn tất":t(100);break;default:t(0)}},[e==null?void 0:e.state]);const f=()=>{b("/admin/listOrderAuction")},r=async a=>{e&&(await n(H({orderId:e.orderid,stateOrder:a})).unwrap(),L.success("Cập nhật thành công!"),await n(N(e==null?void 0:e.orderid)).unwrap())},w=()=>{switch(e==null?void 0:e.state){case"Chờ giao hàng":return s.jsx(l,{onClick:()=>{r("Chờ xử lý")},className:"mt-4 bg-green-500 text-white",children:"Chờ xử lý"});case"Chờ xử lý":return s.jsx(l,{onClick:()=>{r("Đã xác nhận")},className:"mt-4 bg-green-500 text-white",children:"Đã xác nhận"});case"Đã xác nhận":return s.jsx(l,{onClick:()=>{r("Vận chuyển")},className:"mt-4 bg-yellow-500 text-white",children:"Đang vận chuyển"});case"Vận chuyển":return s.jsx(s.Fragment,{children:s.jsx(l,{onClick:()=>{r("Nhận hàng")},className:"mt-4 bg-blue-500 text-white",children:"Nhận hàng"})});case"Nhận hàng":return s.jsx(s.Fragment,{children:s.jsx(l,{onClick:()=>{r("Hoàn tất")},className:"mt-4 bg-blue-500 text-white",children:"Hoàn tất"})});default:return null}};return s.jsxs("main",{className:"w-full flex-grow p-6",children:[s.jsxs(D,{className:"p-6 bg-white shadow-md rounded-lg",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Chi tiết đơn hàng"}),e?s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("p",{className:"text-lg mb-2",children:[s.jsx("span",{className:"font-medium",children:"Mã đơn hàng:"})," #",e.orderid]}),s.jsxs("p",{className:"text-lg mb-2",children:[s.jsx("span",{className:"font-medium",children:"Trạng thái đơn hiện tại:"})," #",e.state]}),s.jsxs("p",{className:"text-lg mb-2",children:[s.jsx("span",{className:"font-medium",children:"Ngày mua sắm:"})," ",new Date(e.dateOrder).toLocaleDateString()," VND"]}),s.jsxs("p",{className:"text-lg text-red-600 mb-2",children:[s.jsx("span",{className:"font-medium",children:"Tổng tiền:"})," ",e!=null&&e.totalPrice?e.totalPrice.toLocaleString():"N/A"," VND"]}),w(),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"text-lg font-medium mb-2 block",children:"Tiến trình giao hàng:"}),s.jsx(B,{"aria-label":"Order Progress",size:"lg",value:m,color:"success",showValueLabel:!0,className:"max-w-md"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Thông tin khách hàng"}),s.jsxs("p",{className:"text-lg mb-2",children:[s.jsx("span",{className:"font-medium",children:"Họ tên:"})," ",(h=e.shippingInfo)==null?void 0:h.recipientName]}),s.jsxs("p",{className:"text-lg mb-2",children:[s.jsx("span",{className:"font-medium",children:"Số điện thoại:"})," ",(d=e.shippingInfo)==null?void 0:d.phoneNumber]}),s.jsxs("p",{className:"text-lg",children:[s.jsx("span",{className:"font-medium",children:"Địa chỉ:"})," ",(x=e.shippingInfo)==null?void 0:x.address]})]}),(e==null?void 0:e.paymetMethod)!=="Thanh toán trực tiếp"&&s.jsxs("section",{className:"mb-8 bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Ngân Hàng Thanh Toán"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-lg mb-2 text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Tên ngân hàng:"})," ",((u=e==null?void 0:e.refundBank)==null?void 0:u.bankName)||"N/A"]}),s.jsxs("p",{className:"text-lg mb-2 text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Họ tên:"})," ",((p=e==null?void 0:e.refundBank)==null?void 0:p.accountName)||"N/A"]}),s.jsxs("p",{className:"text-lg text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Số tài khoản:"})," ",((g=e==null?void 0:e.refundBank)==null?void 0:g.accountNumber)||"N/A"]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Sản phẩm"}),s.jsx(j,{className:"space-y-4",children:e.products.map((a,y)=>s.jsxs(j.Item,{className:"flex justify-between items-center p-4 bg-gray-100 rounded-md shadow-sm",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:a.image[0],alt:a.name,className:"w-32 h-20 object-cover rounded-md"}),s.jsx("div",{children:s.jsx("h4",{className:`font-medium  text-base\r
                         mb-1 lex items-center border rounded-lg px-3 py-2 text-center`,children:a.name})})]}),s.jsxs("p",{className:"font-medium  text-base",children:[a.price.toLocaleString()," VND"]})]},y))})]})]}):s.jsx("p",{children:"Loading..."})]}),s.jsx("br",{}),s.jsx("button",{onClick:f,className:"w-80 bg-blue-600 text-white py-3 rounded-md shadow-lg hover:bg-blue-700 transition duration-300",children:"Quay lại danh sách đơn hàng"}),s.jsx(V,{})]})},as=()=>s.jsx("div",{className:"bg-gray-100 font-family-karla flex",children:s.jsx("div",{className:"relative w-full flex flex-col h-screen overflow-y-hidden",children:s.jsx("div",{className:"w-full h-screen overflow-x-hidden border-t flex flex-col",children:s.jsx(I,{})})})});export{as as default};
