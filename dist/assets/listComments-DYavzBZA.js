import{r as t,g as j,B as p,j as s}from"./index-B8WTsAS6.js";import{d as y}from"./comment.service-DYZbsvXR.js";/* empty css                      */import{P as u}from"./paginationcrud-CYiMZm9R.js";import{t as v,a as P,b as r,c as _,d as w,e as i}from"./chunk-YRZGWF2W-CXxVUGNa.js";import{R as C,b as N}from"./ReusableBreadcrumb-D5trGug1.js";import{S as k}from"./searchFomProduct-CtepxUMW.js";import"./clsx-B-dksMZM.js";import"./chunk-N2KXC5ZE-mxrXGXiM.js";import"./chunk-XHQUSKIE-BwnSvnTo.js";import"./_class_private_field_set-DiTYLpP0.js";import"./filterDOMProps-B3AneKiX.js";import"./useEffectEvent-Cg1JSw20.js";import"./getChildNodes-Cw4ook6e.js";import"./VisuallyHidden-D5xcTfY7.js";import"./useFocusWithin-Cnv4cfRz.js";import"./focusSafely-7dc_zii7.js";import"./useFocusable-BgsBLUcz.js";import"./useFocus-CiKVCmpT.js";import"./FocusScope-DCO5JZf9.js";import"./chunk-KBN3H6OQ-BYj_qRg-.js";import"./index-DiNnCp_7.js";import"./chunk-CAFRINWI-BTDo8zfp.js";import"./useFormValidationState-Ds8IGnmn.js";import"./useFormReset-BlmLPiDA.js";import"./chunk-CIZQCQPA-BQKhqm3c.js";import"./chunk-IXXDDLGU-D8Ib2K6T.js";import"./chunk-7F3ZLNJ6-B2JTPL8n.js";const S=()=>{const[l,x]=t.useState([]),n=j(),o=p(),[m,c]=t.useState(1),[g,d]=t.useState(1);t.useEffect(()=>{const a=new URLSearchParams(o.search).get("page");a?c(parseInt(a,10)):n("?page=1",{replace:!0})},[o.search,n]);const b=e=>{c(e),n(`?page=${e}`)},f=async()=>{try{const e=await y(m,2);e&&Array.isArray(e.data)?(x(e.data),d(e.totalPages)):console.error("Response is not an array:",e)}catch(e){console.error("Error fetching products:",e)}};return t.useEffect(()=>{f()},[m]),s.jsxs(s.Fragment,{children:[s.jsxs(v,{"aria-label":"Example static collection table",children:[s.jsxs(P,{children:[s.jsx(r,{children:"STT"}),s.jsx(r,{children:"Tên sản phẩm"}),s.jsx(r,{children:"Hình ảnh"}),s.jsx(r,{children:"Số lượng bình luận"}),s.jsx(r,{children:"#"})]}),s.jsx(_,{children:l.filter(e=>{var a;return((a=e==null?void 0:e.comments)==null?void 0:a.length)>0}).map((e,a)=>{var h;return s.jsxs(w,{className:"border-b text-center dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700",children:[s.jsx(i,{children:a+1}),s.jsx(i,{children:e==null?void 0:e.product_name}),s.jsx(i,{children:s.jsx("img",{src:e==null?void 0:e.image[0],width:100,height:50,alt:e==null?void 0:e.product_name})}),s.jsx(i,{children:(h=e==null?void 0:e.comments)==null?void 0:h.length}),s.jsx(i,{children:s.jsx("button",{className:"py-2 px-3 flex items-center text-sm font-medium text-center text-white bg-lime-600 rounded-lg hover:bg-lime-500 focus:ring-4 focus:outline-none focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",onClick:()=>n(`/admin/listDetailComments/${e==null?void 0:e.slug}`),children:"Chi tiết"})})]},e==null?void 0:e._id)})})]}),l.length>0&&s.jsx(u,{currentPage:m,totalPages:g,onPageChange:b})]})},te=()=>s.jsxs("div",{children:[s.jsx(C,{items:N.listComments}),s.jsx("div",{className:"mb-4 ml-4 col-span-full xl:mb-2",children:s.jsx("h1",{className:"text-xl font-semibold text-gray-900 sm:text-2xl dark:text-white",children:"Danh sách sản phẩm có bình luận"})}),s.jsx("section",{className:"bg-gray-50 dark:bg-gray-900 p-3 sm:p-5 antialiased",children:s.jsx("div",{className:"mb-4 col-span-full xl:mb-2",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 relative shadow-md sm:rounded-lg overflow-hidden",children:[s.jsx("div",{className:"flex flex-col md:flex-row items-stretch md:items-center md:space-x-3 space-y-3 md:space-y-0 justify-between mx-4 py-4 ",children:s.jsx(k,{})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsx(S,{})})]})})})]});export{te as default};
