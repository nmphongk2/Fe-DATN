import{f as y,h as j,r as t,d9 as h,j as e,da as N}from"./index-B8WTsAS6.js";import{P as f}from"./paginationcrud-CYiMZm9R.js";import{S as k}from"./sweetalert2.all-CanRnygg.js";/* empty css                      */import{w}from"./sweetalert2-react-content.es-_20BSG7l.js";import{R as v,b as C}from"./ReusableBreadcrumb-D5trGug1.js";import{P as S}from"./ProductSummary-NkOstGUN.js";import{S as B}from"./searchFomProduct-CtepxUMW.js";import"./clsx-B-dksMZM.js";const d=w(k),O=()=>{const a=y(),{deltedOrder:s,totalPages:x}=j(r=>r.getDeletedOrderAucAdmin),[c,m]=t.useState(1),[l]=t.useState(5),[i]=t.useState(""),[,p]=t.useState(s);t.useEffect(()=>{a(h({page:c,pageSize:l,search:i}))},[a,c,l,i]);const g=r=>{m(r)},u=async r=>{d.fire({title:"Khôi phục đơn hàng?",text:"Bạn có muốn khôi phục đơn hàng này không!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Có",cancelButtonText:"Hủy"}).then(async n=>{if(n.isConfirmed)try{await a(N(r)).unwrap(),a(h({page:c,pageSize:l,search:i})),p(o=>o.filter(b=>b._id!==r)),d.fire({title:"Đã xóa!",text:"Đơn  hàng của bạn được khôi phục.",icon:"success"})}catch(o){console.error("Error deleting order:",o),d.fire({title:"Lỗi!",text:"Đã xảy ra sự cố khi xóa sản phẩm.",icon:"error"})}})};return e.jsxs(e.Fragment,{children:[e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"checkbox-all-orders",type:"checkbox",className:"w-4 h-4 text-primary-600 bg-gray-100 rounded border-gray-300"}),e.jsx("label",{htmlFor:"checkbox-all-orders",className:"sr-only",children:"checkbox"})]})}),e.jsx("th",{scope:"col",className:"p-4",children:"NGƯỜI DÙNG"}),e.jsx("th",{scope:"col",className:"text-center",children:"ĐỊA CHỈ"}),e.jsx("th",{scope:"col",className:"p-4",children:"SỐ ĐIỆN THOẠI"}),e.jsx("th",{scope:"col",className:"p-4",children:"NGẦN HÀNG THANH TOÁN"}),e.jsx("th",{scope:"col",className:"p-4",children:"TRẠNG THÁI"}),e.jsx("th",{scope:"col",className:"p-4",children:"CHỨC NĂNG"})]})}),e.jsx("tbody",{children:Array.isArray(s)&&s.length>0?s==null?void 0:s.map(r=>{var n;return e.jsxs("tr",{className:"border-b dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"p-4 w-4",children:e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary-600 bg-gray-100 rounded border-gray-300"})})}),e.jsx("th",{scope:"row",className:"px-4 py-3 font-medium text-gray-900 dark:text-white",children:r.shippingAddress.recipientName}),e.jsx("td",{className:"py-4 px-6 border-b border-grey-light",children:r.shippingAddress.address}),e.jsx("td",{className:"py-4 px-6 border-b border-grey-light",children:r.shippingAddress.phoneNumber}),e.jsx("td",{className:"py-4 px-6 border-b border-grey-light",children:((n=r.refundBank)==null?void 0:n.bankName)||""}),e.jsxs("td",{className:"py-4 px-6 border-b mt-1.5 inline-flex items-center rounded text-xs font-medium border-grey-light g-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",children:[e.jsx("svg",{className:"me-1 h-3 w-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18 17.94 6M18 18 6.06 6"})}),r.stateOrder]}),e.jsx("td",{className:"py-4 px-6 border-b border-grey-light",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("button",{onClick:()=>r._id&&u(r._id),className:"py-2 px-3 flex items-center text-sm font-medium text-center text-white bg-blue-600 rounded-lg hover:bg-blue-600-500 focus:ring-4 focus:outline-none focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Khôi phục"})})})]},r._id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center py-4",children:"No products found"})})})]}),e.jsx(f,{currentPage:c,totalPages:x,onPageChange:g})]})},L=()=>e.jsxs("div",{children:[e.jsx(v,{items:C.recycleBinOrder}),e.jsx("div",{className:"mb-4 ml-4 col-span-full xl:mb-2",children:e.jsx("h1",{className:"text-xl font-semibold text-gray-900 sm:text-2xl dark:text-white",children:"Danh sách xóa mềm"})}),e.jsx("section",{className:"bg-gray-50 dark:bg-gray-900 p-3 sm:p-5 antialiased",children:e.jsx("div",{className:"mb-4 col-span-full xl:mb-2",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 relative shadow-md sm:rounded-lg overflow-hidden",children:[e.jsx(S,{}),e.jsx("div",{className:"flex flex-col md:flex-row items-stretch md:items-center md:space-x-3 space-y-3 md:space-y-0 justify-between mx-4 py-4 border-t dark:border-gray-700",children:e.jsx(B,{})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(O,{})})]})})})]});export{L as default};
