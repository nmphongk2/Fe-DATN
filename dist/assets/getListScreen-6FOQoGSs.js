import{r as p,l as y,cm as u,j as e,cn as f,f as b,L as w,h}from"./index-B8WTsAS6.js";import{A as S}from"./index-Cc_yPv-2.js";import{E as N}from"./EditDocumentIcon-DuofBkHL.js";import{D as _}from"./DeleteIcon-BukMQWWF.js";import{S as v}from"./sweetalert2.all-CanRnygg.js";import{w as k}from"./sweetalert2-react-content.es-_20BSG7l.js";import{f as C,g as L,h as T,m as g}from"./chunk-GBNLLUVD-1t55ujfQ.js";import{b as D}from"./chunk-DBLREEYE-KYxkDfWC.js";import{N as B}from"./noData-DVKMDRJu.js";import{t as P,a as E,b as M,c as R,d as A,e as $}from"./chunk-YRZGWF2W-CXxVUGNa.js";import{p as F}from"./chunk-MRXO6UUP-nmik_M5x.js";import{c as I}from"./chunk-4WFLSIHH-GgbuetXY.js";import{t as H}from"./chunk-3ZXLDIEA-b4fsncww.js";import{R as K,b as X}from"./ReusableBreadcrumb-D5trGug1.js";import"./chunk-TDOFO53L-BhVz0FjF.js";import"./chunk-N2KXC5ZE-mxrXGXiM.js";import"./tslib.es6-DUex0IDm.js";import"./useDialog-clsvYkd8.js";import"./useLabels-C5NmhLsG.js";import"./filterDOMProps-B3AneKiX.js";import"./useEffectEvent-Cg1JSw20.js";import"./clsx-B-dksMZM.js";import"./getChildNodes-Cw4ook6e.js";import"./VisuallyHidden-D5xcTfY7.js";import"./useFocusWithin-Cnv4cfRz.js";import"./focusSafely-7dc_zii7.js";import"./_class_private_field_set-DiTYLpP0.js";import"./FocusScope-DCO5JZf9.js";import"./useOverlayTriggerState-_gK5y_xw.js";import"./number-DfkVkf0F.js";import"./chunk-BZCSOIUI-ECjOxws-.js";import"./chunk-XHQUSKIE-BwnSvnTo.js";import"./features-animation-BrpZblPW.js";import"./chunk-6NL67ZRH-ST4yRtyp.js";import"./chunk-MNNRULGA-Ck-UmubQ.js";import"./chunk-CIZQCQPA-BQKhqm3c.js";import"./index-DiNnCp_7.js";import"./useFocusable-BgsBLUcz.js";import"./useFocus-CiKVCmpT.js";import"./chunk-KBN3H6OQ-BYj_qRg-.js";import"./chunk-CAFRINWI-BTDo8zfp.js";import"./useFormValidationState-Ds8IGnmn.js";import"./useFormReset-BlmLPiDA.js";import"./chunk-IXXDDLGU-D8Ib2K6T.js";import"./chunk-7F3ZLNJ6-B2JTPL8n.js";import"./index-xaiLQO7O.js";import"./useHover-BojuH7IM.js";const q=()=>{const[s,a]=p.useState(""),r=y();p.useEffect(()=>{r(u({page:1,search:s||void 0}))},[s,r]);const o=n=>{n.preventDefault()};return e.jsx("div",{className:"w-full md:w-1/2",children:e.jsxs("form",{className:"flex items-center",onSubmit:o,children:[e.jsx("label",{htmlFor:"simple-search",className:"sr-only",children:"Tìm kiếm"}),e.jsx("div",{className:"relative w-full",children:e.jsx("input",{id:"simple-search",type:"search",className:"w-full py-1 px-2 border text-black border-gray-300 rounded-md shadow-sm",placeholder:"Tìm kiếm",value:s,onChange:n=>a(n.target.value)})})]})})},x=k(v),G=(s,a,r,o)=>{x.fire({title:"Xóa màn hình?",text:"Bạn có chắc muốn xóa màn hình này không!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Có",cancelButtonText:"Hủy"}).then(async n=>{var m;if(n.isConfirmed)try{const c=await a(f({screenId:s}));if(f.rejected.match(c)){const l=typeof c.payload=="string"?c.payload:"Đã xảy ra sự cố khi xóa màn hình.";j(l)}else{const l=((m=c.payload)==null?void 0:m.msg)||"màn hình của bạn đã bị xóa.";O(l),a(u({page:r,search:o}))}}catch{j("Đã xảy ra sự cố khi xóa màn hình.")}})},O=s=>{x.fire({title:"Đã xóa!",text:s,icon:"success",customClass:{confirmButton:"bg-blue-500 md:bg-green-500"}})},j=s=>{x.fire({title:"Lỗi!",text:s,icon:"error",customClass:{confirmButton:"bg-red-600"}})};function U({screenId:s,currentPage:a,searchTerm:r}){const o=b(),n="text-xl text-default-500 pointer-events-none flex-shrink-0";return e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(D,{variant:"bordered",children:"Tùy chọn"})}),e.jsxs(T,{"aria-label":"Static Actions",children:[e.jsx(g,{startContent:e.jsx(N,{className:n}),children:e.jsx(w,{to:`/admin/edit-screen/${s}`,children:"Sửa màn hình"})},"new"),e.jsx(g,{className:"text-danger",color:"danger",startContent:e.jsx(_,{className:n}),onClick:()=>G(s,o,a,r),children:"Xóa màn hình"},"delete")]})]})}const V=()=>{const s=b(),[a]=p.useState(""),r=h(t=>{var i;return((i=t.attribute.getListScreen.pagination)==null?void 0:i.currentPage)||1}),o=h(t=>{var i;return((i=t.attribute.getListScreen.pagination)==null?void 0:i.totalPages)||1}),n=h(t=>t.attribute.getListScreen.screens||[]);p.useEffect(()=>{s(u({page:r,search:a}))},[s,r,a]);const m=t=>{s(u({page:t,search:a}))},c=(t,i)=>{switch(i){case"name":const d=t.name;return e.jsx(H,{content:d,delay:0,children:e.jsx("span",{children:d.length>20?`${d.substring(0,20)}...`:d})});case"status":return e.jsx(I,{color:t.status==="active"?"success":"danger",children:t.status==="active"?"Hiển thị":"Đã ẩn"});case"actions":return e.jsx(U,{screenId:t._id,currentPage:r,searchTerm:a});default:return null}},l=[{uid:"name",name:"tên màn hình"},{uid:"status",name:"Trạng thái"},{uid:"actions",name:"Chức năng"}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center md:space-x-3 space-y-3 md:space-y-0 justify-between mx-4 py-4 border-t dark:border-gray-700",children:[e.jsx(q,{}),e.jsx(S,{type:"addScreen"})]}),n.length===0?e.jsx(B,{type:"screen",message:a?"Không tìm thấy kết quả nào phù hợp với từ khóa tìm kiếm.":"Không có thông tin màn hình."}):e.jsxs(P,{"aria-label":"Product Variants Table",className:"p-4",children:[e.jsx(E,{columns:l,children:t=>e.jsx(M,{align:t.uid==="actions"?"center":"start",children:t.name},t.uid)}),e.jsx(R,{items:n,children:t=>e.jsx(A,{children:i=>e.jsx($,{children:c(t,i)})},t._id)})]}),o>1&&e.jsx("div",{className:"flex justify-center my-4",children:e.jsx(F,{isCompact:!0,loop:!0,showControls:!0,color:"primary",total:o,initialPage:r,onChange:t=>m(t)})})]})},z=()=>{const s=h(a=>a.attribute.getListScreen.countOnPage||[]);return e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-3 md:space-y-0 md:space-x-4 p-4",children:e.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[e.jsxs("h5",{children:[e.jsx("span",{className:"text-gray-500",children:"Tổng có: "}),e.jsx("span",{className:"dark:text-white",children:s})]}),e.jsx("h5",{className:"text-gray-500 dark:text-gray-400 ml-1",children:"Màn hình"})]})})},Xe=()=>e.jsxs("div",{children:[e.jsx(K,{items:X.listScreen}),e.jsx("div",{className:"mb-4 ml-4 col-span-full xl:mb-2",children:e.jsx("h1",{className:"text-xl font-semibold text-gray-900 sm:text-2xl dark:text-white",children:"Danh sách màn hình"})}),e.jsx("section",{className:"bg-gray-50 dark:bg-gray-900 p-3 sm:p-5 antialiased",children:e.jsx("div",{className:"mb-4 col-span-full xl:mb-2",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 relative border shadow-md sm:rounded-lg overflow-hidden",children:[e.jsx(z,{}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(V,{})})]})})})]});export{Xe as default};
