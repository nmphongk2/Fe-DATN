import{f as j,h as b,r as s,cY as w,j as e,cZ as N}from"./index-B8WTsAS6.js";import{P as k}from"./paginationcrud-CYiMZm9R.js";import{S as v}from"./searchFormPriceRand-CUgN8UN_.js";/* empty css                    */import{w as P}from"./sweetalert2-react-content.es-_20BSG7l.js";/* empty css                      */import{Q as S,B as d}from"./react-toastify.esm-BnAFxftJ.js";import{S as R}from"./sweetalert2.all-CanRnygg.js";import{R as B,b as C}from"./ReusableBreadcrumb-D5trGug1.js";import"./clsx-B-dksMZM.js";const D=P(R),T=()=>{const a=j(),{deletedPriceRand:r,totalPages:o}=b(t=>t.adminDeltedPriceRand),[,m]=s.useState([]),[c,n]=s.useState(1),[i]=s.useState(5),[l,h]=s.useState("");s.useEffect(()=>{a(w({page:c,pageSize:i,search:l}))},[a,c,i,l]);const x=t=>{n(t)},p=t=>{h(t),n(1)},g=async t=>{D.fire({title:"Hủy sản phẩm?",text:"Bạn có chắc muốn khôi phục sản phẩm này không?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Có",cancelButtonText:"Hủy"}).then(async u=>{u.isConfirmed?(await a(N({id:t})).unwrap(),m(f=>f.filter(y=>y._id!==t)),d.success("Khôi phục sản phẩm thành công")):d.error("Có lỗi xảy ra khi xóa sản phẩm")})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between mx-4 py-4 border-t dark:border-gray-700 space-y-3 md:space-y-0 md:space-x-3",children:e.jsx("div",{className:"flex-grow",children:e.jsx(v,{onSearch:p})})}),e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"p-4",children:"Hình ảnh"}),e.jsx("th",{scope:"col",className:"p-4",children:"Tên sản phẩm"}),e.jsx("th",{scope:"col",className:"p-4",children:"Giá thấp nhất"}),e.jsx("th",{scope:"col",className:"p-4",children:"Giá trung bình"}),e.jsx("th",{scope:"col",className:"p-4",children:"Giá cao nhất"}),e.jsx("th",{scope:"col",className:"p-4",children:"Trạng thái"}),e.jsx("th",{scope:"col",className:"p-4",children:"Chức năng"})]})}),e.jsx("tbody",{children:r&&r.length>0?r.map(t=>e.jsxs("tr",{className:"border-b dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:e.jsx("div",{className:"flex items-center mr-3",children:e.jsx("img",{src:t.product.image[0],className:"h-12 w-12 object-cover mr-3"})})}),e.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:t.product_randBib.product_name}),e.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:[t.minBid.toLocaleString()," VND"]}),e.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:[t.midBid.toLocaleString()," VND"]}),e.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:[t.maxBid.toLocaleString()," VND"]}),e.jsx("td",{className:`inline-flex items-center rounded-md px-2 py-1 mt-5 ml-5 text-xs font-medium ring-1 ring-current ${t.status==="active"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:t.status==="active"?"Hiển thị":"Đã ẩn"}),e.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("button",{onClick:()=>g(t._id),className:"py-2 px-3 flex items-center text-sm font-medium text-center text-white bg-blue-600 rounded-lg hover:bg-blue-600-500 focus:ring-4 focus:outline-none focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Khôi phục"})})})]},t._id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-4",children:"Không có dữ liệu"})})})]}),e.jsx(k,{currentPage:c,totalPages:o,onPageChange:x}),e.jsx(S,{})]})},I=()=>e.jsxs("div",{children:[e.jsx(B,{items:C.recycleBinPriceRand}),e.jsx("div",{className:"mb-4 ml-4 col-span-full xl:mb-2",children:e.jsx("h1",{className:"text-xl font-semibold text-gray-900 sm:text-2xl dark:text-white",children:"Danh sách xóa mềm"})}),e.jsx("section",{className:"bg-gray-50 dark:bg-gray-900 p-3 sm:p-5 antialiased",children:e.jsx("div",{className:"mb-4 col-span-full xl:mb-2",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 relative shadow-md sm:rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsx(T,{})})})})})]});export{I as default};
